{"version":3,"file":"js/7181.js","mappings":"oKAKA,E,mKCyBA,IAAMA,EAAQC,EAeRC,GAAgBC,EAAAA,EAAAA,MAAI,GACpBC,GAAUD,EAAAA,EAAAA,KAAI,MAcdE,EAAe,WAEjB,GAAqB,OAAlBD,EAAQE,MAAgB,CAEvB,IAAIC,EAAiB,IAAIC,EAAAA,EAASJ,EAAQE,MAAO,CAC7CG,IAAIC,MAAM,qBACVC,gBAAgB,EAChBC,gBAAe,EACfC,YAAY,IACZC,SAAS,GACTC,UAAU,QACVC,QAAQ,CACJ,gBAAgBC,EAAAA,EAAAA,MAAUjB,MAAMkB,YAEpCC,gBAAgB,EAChBC,OAAQ,SAASC,EAAMC,GACF,WAAbD,EAAKE,KACLD,EAAK,oBAELA,GAER,IAGAtB,EAAMoB,SACNb,EAAeiB,QAAQC,cAAgBzB,EAAMoB,OAAO,KAGxDb,EAAemB,GAAG,iBAAgB,WAtCtCxB,EAAcI,OAAQ,EAEJ,SAAdN,EAAM2B,KACN3B,EAAM4B,aAENC,EAAAA,GAAOC,IAAIpB,MAAM,qBAmCjB,GAEJ,CACJ,E","sources":["webpack:///./resources/js/Pages/UserMediaLibrary/UploadFilesDropzone.vue?733e","webpack:///./resources/js/Pages/UserMediaLibrary/UploadFilesDropzone.vue"],"sourcesContent":["import script from \"./UploadFilesDropzone.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./UploadFilesDropzone.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    \n    <div>\n        <button type=\"button\" class=\"btn fw-bold btn-sm btn-success d-flex align-items-center\" @click=\"dialogVisible = true\"><i class=\"bi bi-folder-plus fs-3\"></i><span class=\"ms-1 lh-1\">EKLE</span></button>\n\n        <Dialog v-model:visible=\"dialogVisible\" modal header=\"Yeni medya ekle\" @show=\"makeDropzone\" :style=\"{ width: '50vw' }\" :breakpoints=\"{ '960px': '75vw', '641px': '95vw' }\">\n\n            <div ref=\"dropRef\" class=\"dropzone\">\n                <div class=\"dz-message needsclick\">\n                    <i class=\"bi bi-cloud-arrow-up fs-3x text-primary\"></i>\n\n                    <div class=\"ms-4\">\n                        <h3 class=\"fs-5 fw-bold text-gray-900 mb-1\">Drop files here or click to upload.</h3>\n                        <span class=\"fs-7 fw-semibold text-gray-500\">Upload up to 10 files</span>\n                    </div>\n                </div>\n            </div>\n\n        </Dialog>\n    </div>\n\n</template>\n\n<script setup>\n\nimport {ref} from \"vue\";\nimport Dropzone from \"dropzone\";\nimport {usePage, router} from \"@inertiajs/vue3\";\nimport Dialog from \"primevue/dialog\";\n\nconst props = defineProps({\n    uploadDone:{\n        type:Function,\n        required:false\n    },\n    from:{\n        type:String,\n        default:\"page\"\n    },\n    accept:{\n        type:String,\n        default:null\n    }\n});\n\nconst dialogVisible = ref(false);\nconst dropRef = ref(null);\n\nconst onUploadDone = () => {\n\n    dialogVisible.value = false;\n\n    if( props.from == \"popup\" ){\n        props.uploadDone();\n    } else {\n        router.get(route('user-medias.index'));\n    }\n\n};\n\nconst makeDropzone = () => {\n\n    if(dropRef.value !== null) {\n\n        let uploadDropzone = new Dropzone(dropRef.value, {\n            url:route('user-medias.store'),\n            parallelUploads:1,\n            uploadMultiple:true,\n            maxFilesize:100000000,\n            maxFiles:10,\n            paramName:'files',\n            headers:{\n                \"X-CSRF-TOKEN\": usePage().props.csrf_token\n            },\n            addRemoveLinks: true,\n            accept: function(file, done) {\n                if (file.name == \"wow.jpg\") {\n                    done(\"Naha, you don't.\");\n                } else {\n                    done();\n                }\n            },\n        });\n\n        if( props.accept ){\n            uploadDropzone.options.acceptedFiles = props.accept+\"*\"; //dropzone image/* nedense calismiyor buna bakalim.\n        }\n\n        uploadDropzone.on('queuecomplete',function() {\n            onUploadDone();\n        });\n\n    }\n}\n\n</script>"],"names":["props","__props","dialogVisible","ref","dropRef","makeDropzone","value","uploadDropzone","Dropzone","url","route","parallelUploads","uploadMultiple","maxFilesize","maxFiles","paramName","headers","usePage","csrf_token","addRemoveLinks","accept","file","done","name","options","acceptedFiles","on","from","uploadDone","router","get"],"sourceRoot":""}