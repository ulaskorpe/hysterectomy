{"version":3,"file":"js/532.js","mappings":"0dAKA,E,0GC0DA,IAAMA,EAAQC,EAQRC,GAAgBC,EAAAA,EAAAA,MAAI,GACtBC,GAAmBD,EAAAA,EAAAA,KAAI,IAErBE,GAAOC,EAAAA,EAAAA,IAAQ,CACjBC,UAAUP,EAAMQ,aAAaD,UAC7BE,YAAYT,EAAMQ,aAAaC,YAC/BC,WAAWV,EAAMQ,aAAaG,YAAYC,KAAI,SAACC,GAAG,OAAKA,EAAIC,EAAE,MAQ3DC,EAAS,WACXV,EAAKW,IAAIC,MAAM,eAAejB,EAAMQ,cAAc,CAC9CU,UAAW,WACPb,EAAKc,QACLnB,EAAMoB,cACV,GAER,E,OAgBAC,EAAAA,EAAAA,YAAU,WAZNC,MAAML,MAAM,2BAA2B,CACnCM,QAAS,CACL,OAAS,sBAEdC,MAAK,SAASC,GACb,OAAOA,EAASC,MACpB,IAAGF,MAAK,SAACE,GACLtB,EAAiBuB,MAAQD,CAC7B,GAMJ,I,myFA7BIxB,EAAcyB,OAAQ,OACtB3B,EAAMoB,c","sources":["webpack:///./resources/js/Pages/Role/EditRole.vue?d864","webpack:///./resources/js/Pages/Role/EditRole.vue"],"sourcesContent":["import script from \"./EditRole.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EditRole.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    \n    <div>\n        <Dialog v-model:visible=\"dialogVisible\" modal @hide=\"props.onUpdateDone\" header=\"Rol Güncelle\" :style=\"{ width: '50vw' }\" :breakpoints=\"{ '960px': '75vw', '641px': '95vw' }\">\n            <form @submit.prevent=\"update\">\n\n                <div class=\"row align-items-center\">\n                    <label class=\"col-md-6 form-label\">İSİM</label>\n                    <div class=\"col-md-6\">\n                        <InputText v-model=\"form.view_name\" class=\"w-100\" :class=\"{'p-invalid':form.errors.view_name}\"/>\n                    </div>\n                </div>\n\n                <Divider />\n\n                <div class=\"row align-items-center mb-10\">\n                    <label class=\"col-md-6 form-label\">AÇIKLAMA</label>\n                    <div class=\"col-md-6\">\n                        <Textarea autoResize rows=\"1\" cols=\"30\" class=\"w-100\" v-model=\"form.description\" />\n                    </div>\n                </div>\n                \n                <h4 class=\"text-muted\">Header Scripts</h4>\n                <Divider class=\"mb-10\"/>\n                <div v-for=\"(group,g) in permissionGroups\" :key=\"`permission-group-${g}`\">\n\n                    <div class=\"row align-items-center\">\n                        <label class=\"col-md-6 form-label\">{{ group.name }}</label>\n                        <div class=\"col-md-6\">\n                            <div class=\"hstack gap-4 flex-wrap\">\n                                <div class=\"flex align-items-center\" v-for=\"(permission,p) in group.permissions\" :key=\"`permission-${g}-${p}`\">\n                                    <Checkbox v-model=\"form.permission\" :inputId=\"`permission-id-${g}-${p}`\" name=\"permission\" :value=\"permission.id\" />\n                                    <label :for=\"`permission-id-${g}-${p}`\" class=\"ms-2\">{{ permission.view_name }}</label>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n                    <Divider />\n\n                </div>\n\n                <div class=\"mt-5\">\n                    <button type=\"submit\" class=\"btn btn-primary\" :class=\"{ 'opacity-25': form.processing }\" :disabled=\"form.processing\">Kaydet</button>\n                    <button type=\"button\" class=\"btn btn-light ms-5\" @click=\"cancel()\">Vazgeç</button>\n                </div>\n\n            </form>\n        </Dialog>\n    </div>\n\n</template>\n\n<script setup>\n\nimport {ref,onMounted} from \"vue\";\nimport { useForm } from \"@inertiajs/vue3\";\nimport Dialog from \"primevue/dialog\";\nimport InputText from 'primevue/inputtext';\nimport Checkbox from 'primevue/checkbox';\nimport Textarea from 'primevue/textarea';\nimport Divider from \"primevue/divider\";\n\nconst props = defineProps({\n    selectedRole:Object,\n    onUpdateDone:{\n        type:Function,\n        required:true\n    }\n});\n\nconst dialogVisible = ref(true);\nlet permissionGroups = ref([]);\n\nconst form = useForm({\n    view_name:props.selectedRole.view_name,\n    description:props.selectedRole.description,\n    permission:props.selectedRole.permissions.map((row) => row.id)\n});\n\nconst cancel = () => {\n    dialogVisible.value = false;\n    props.onUpdateDone();\n};\n\nconst update = () => {\n    form.put(route('roles.update',props.selectedRole),{\n        onSuccess: () => {\n            form.reset();\n            props.onUpdateDone();\n        },\n    });\n}\n\nconst getPermissionGroups = () => {\n\n    fetch(route('permission-groups.index'),{\n        headers: {\n            'Accept':'application/json',\n        }\n    }).then(function(response){\n        return response.json();\n    }).then((json) =>{\n        permissionGroups.value = json;\n    }) ;\n\n}\n\nonMounted(() => {\n    getPermissionGroups();\n});\n\n</script>"],"names":["props","__props","dialogVisible","ref","permissionGroups","form","useForm","view_name","selectedRole","description","permission","permissions","map","row","id","update","put","route","onSuccess","reset","onUpdateDone","onMounted","fetch","headers","then","response","json","value"],"sourceRoot":""}