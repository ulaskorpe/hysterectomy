"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[29],{29:(e,t,l)=>{l.r(t),l.d(t,{default:()=>D});var a=l(1842),o=l(2995),r=l(1637),n=l(4842),i=l(9193),c={class:"row g-4 g-lg-5 g-xxl-10"},d={class:"col-lg-8"},s={key:0},m=["src"],u={key:1},f={class:"object-fit-cover",controls:""},p=["src"],v={key:2},b={class:"w-100",controls:""},V=["src"],N={class:"col-lg-4"},E={class:"mb-5"},g={class:"mb-5"},y={class:"d-flex flex-row"},_={key:0},h={class:""},k={class:"d-flex flex-row"},x={class:"rounded bg-light p-4 p-xl-5 p-xxl-7 mb-5"},w={class:"mb-5"},A={class:"mb-5"},B={class:"p-inputgroup"},C={class:"p-inputgroup-addon"},S=["disabled"];const D={__name:"EditMedia",props:{media:Object},setup:function(e){var t=e,l=(0,a.ref)(!1),D=(0,a.ref)("Kopyala"),j="",L=function(e){var t=e.value.split(".");t.pop(),j=t.join(".")};L((0,a.computed)((function(){return t.media.file_name})));var U=(0,o.mN)({name:t.media.name,file_name:j}),W=function(){U.put(route("medias.update",t.media),{preserveScroll:!0,onSuccess:function(){L((0,a.computed)((function(){return t.media.file_name}))),U.file_name=j}})},q=function(){fetch(route("medias.show",t.media.id),{headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e)}))};return(0,a.onMounted)((function(){new ClipboardJS("[data-clipboard-text]").on("success",(function(e){var t=e.trigger.querySelector(".p-button-icon");t.classList.remove("bi-front"),t.classList.add("bi-check-square-fill"),setTimeout((function(){t.classList.remove("bi-check-square-fill"),t.classList.add("bi-front")}),1e3),e.clearSelection()}))})),function(e,o){var j=(0,a.resolveComponent)("FormErrors"),L=(0,a.resolveDirective)("tooltip");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createVNode)((0,a.unref)(i.A),{icon:"bi bi-eye text-primary",text:"",rounded:"",severity:"info",onClick:o[0]||(o[0]=function(e){return l.value=!0})}),(0,a.createVNode)((0,a.unref)(r.A),{visible:l.value,"onUpdate:visible":o[5]||(o[5]=function(e){return l.value=e}),modal:"",header:t.media.name,onShow:q,class:"p-dialog-fullscreen"},{default:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("div",c,[(0,a.createElementVNode)("div",d,[t.media.mime_type.startsWith("image/")?((0,a.openBlock)(),(0,a.createElementBlock)("div",s,[(0,a.createElementVNode)("img",{src:t.media.original_url,class:"img-fluid"},null,8,m)])):(0,a.createCommentVNode)("",!0),t.media.mime_type.startsWith("video/")?((0,a.openBlock)(),(0,a.createElementBlock)("div",u,[(0,a.createElementVNode)("video",f,[(0,a.createElementVNode)("source",{src:t.media.original_url,type:"video/mp4"},null,8,p)])])):(0,a.createCommentVNode)("",!0),t.media.mime_type.startsWith("audio/")?((0,a.openBlock)(),(0,a.createElementBlock)("div",v,[(0,a.createElementVNode)("audio",b,[(0,a.createElementVNode)("source",{src:t.media.original_url,type:"audio/mpeg"},null,8,V)])])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",N,[(0,a.createElementVNode)("div",E,[(0,a.createElementVNode)("div",g,[o[6]||(o[6]=(0,a.createElementVNode)("label",{class:"form-label"},"Dosya adresi",-1)),(0,a.createElementVNode)("div",y,[(0,a.createVNode)((0,a.unref)(n.A),{modelValue:t.media.original_url,"onUpdate:modelValue":o[1]||(o[1]=function(e){return t.media.original_url=e}),class:"flex-grow-1 border"},null,8,["modelValue"]),(0,a.withDirectives)((0,a.createVNode)((0,a.unref)(i.A),{icon:"bi bi-front fs-3",severity:"secondary",text:"",outlined:"",class:"copy-button ms-2","data-clipboard-text":t.media.original_url},null,8,["data-clipboard-text"]),[[L,(0,a.unref)(D),void 0,{top:!0}]])])]),t.media.mime_type.startsWith("image/")?((0,a.openBlock)(),(0,a.createElementBlock)("div",_,[(0,a.createElementVNode)("div",h,[o[7]||(o[7]=(0,a.createElementVNode)("label",{class:"form-label"},"Önizleme adresi",-1)),(0,a.createElementVNode)("div",k,[(0,a.createVNode)((0,a.unref)(n.A),{modelValue:t.media.preview_url,"onUpdate:modelValue":o[2]||(o[2]=function(e){return t.media.preview_url=e}),class:"flex-grow-1 border"},null,8,["modelValue"]),(0,a.withDirectives)((0,a.createVNode)((0,a.unref)(i.A),{icon:"bi bi-front fs-3",severity:"secondary",text:"",outlined:"",class:"ms-2","data-clipboard-text":t.media.preview_url},null,8,["data-clipboard-text"]),[[L,(0,a.unref)(D),void 0,{top:!0}]])])])])):(0,a.createCommentVNode)("",!0)]),(0,a.createElementVNode)("div",x,[(0,a.createElementVNode)("form",{onSubmit:(0,a.withModifiers)(W,["prevent"])},[(0,a.createElementVNode)("div",w,[o[8]||(o[8]=(0,a.createElementVNode)("label",{class:"form-label"},"ALT Başlık",-1)),(0,a.createVNode)((0,a.unref)(n.A),{modelValue:(0,a.unref)(U).name,"onUpdate:modelValue":o[3]||(o[3]=function(e){return(0,a.unref)(U).name=e}),class:"w-100"},null,8,["modelValue"])]),(0,a.createElementVNode)("div",A,[o[9]||(o[9]=(0,a.createElementVNode)("label",{class:"form-label"},"Dosya Adı",-1)),(0,a.createElementVNode)("div",B,[(0,a.createVNode)((0,a.unref)(n.A),{modelValue:(0,a.unref)(U).file_name,"onUpdate:modelValue":o[4]||(o[4]=function(e){return(0,a.unref)(U).file_name=e})},null,8,["modelValue"]),(0,a.createElementVNode)("span",C,"."+(0,a.toDisplayString)(t.media.custom_properties.ext),1)])]),(0,a.createElementVNode)("button",{type:"submit",class:(0,a.normalizeClass)(["btn btn-primary btn-sm",{"opacity-25":(0,a.unref)(U).processing}]),disabled:(0,a.unref)(U).processing},"Güncelle",10,S)],32),(0,a.createVNode)(j,{form:(0,a.unref)(U)},null,8,["form"])])])])]})),_:1},8,["visible","header"])])}}}}}]);
//# sourceMappingURL=29.js.map