{"version":3,"file":"js/29.js","mappings":"0oBAKA,E,2DC2EA,IAAMA,EAAQC,EAKRC,GAAUC,EAAAA,EAAAA,MAAI,GAChBC,GAAcD,EAAAA,EAAAA,KAAI,WAElBE,EAAwB,GAEtBC,EAA2B,SAACC,GAC9B,IAAIC,EAAgBD,EAAUE,MAAMC,MAAM,KAC1CF,EAAcG,MACdN,EAAwBG,EAAcI,KAAK,IAC/C,EACAN,GAAyBO,EAAAA,EAAAA,WAAS,kBAAMb,EAAMc,MAAMP,SAAS,KAG7D,IAAMQ,GAAOC,EAAAA,EAAAA,IAAQ,CACjBC,KAAKjB,EAAMc,MAAMG,KACjBV,UAAUF,IAGRa,EAAc,WAChBH,EAAKI,IAAIC,MAAM,gBAAgBpB,EAAMc,OAAO,CACxCO,gBAAgB,EAChBC,UAAW,WAEPhB,GAAyBO,EAAAA,EAAAA,WAAS,kBAAMb,EAAMc,MAAMP,SAAS,KAC7DQ,EAAKR,UAAYF,CACrB,GAER,EAEMkB,EAAe,WAEjBC,MAAMJ,MAAM,cAAcpB,EAAMc,MAAMW,IAAI,CACtCC,QAAS,CACL,OAAU,sBAEfC,MAAK,SAAUC,GACd,OAAOA,EAASC,MACpB,IAAGF,MAAK,SAACE,GACLC,QAAQC,IAAIF,EAChB,GAEJ,E,OAEAG,EAAAA,EAAAA,YAAU,WACU,IAAIC,YAAY,yBACtBC,GAAG,WAAW,SAASC,GAC7B,IAAIC,EAAMD,EAAEE,QAAQC,cAAc,kBAClCF,EAAIG,UAAUC,OAAO,YACrBJ,EAAIG,UAAUE,IAAI,wBAClBC,YAAW,WACPN,EAAIG,UAAUC,OAAO,wBACrBJ,EAAIG,UAAUE,IAAI,WACtB,GAAG,KACHN,EAAEQ,gBACN,GACJ,I","sources":["webpack:///./resources/js/Pages/MediaLibrary/EditMedia.vue?0566","webpack:///./resources/js/Pages/MediaLibrary/EditMedia.vue"],"sourcesContent":["import script from \"./EditMedia.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./EditMedia.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    \n    <div>\n        <Button icon=\"bi bi-eye text-primary\" text rounded severity=\"info\" @click=\"visible = true\"/>\n\n        <Dialog v-model:visible=\"visible\" modal :header=\"props.media.name\" @show=\"mediaDetails\" class=\"p-dialog-fullscreen\">\n\n            <div class=\"row g-4 g-lg-5 g-xxl-10\">\n                <div class=\"col-lg-8\">\n\n                    <div v-if=\"props.media.mime_type.startsWith('image/')\">\n                        <img :src=\"props.media.original_url\" class=\"img-fluid\"/>\n                    </div>\n\n                    <div v-if=\"props.media.mime_type.startsWith('video/')\">\n                        <video class=\"object-fit-cover\" controls>\n                            <source :src=\"props.media.original_url\" type=\"video/mp4\">\n                        </video>\n                    </div>\n\n                    <div v-if=\"props.media.mime_type.startsWith('audio/')\">\n                        <audio class=\"w-100\" controls>\n                            <source :src=\"props.media.original_url\" type=\"audio/mpeg\">\n                        </audio>\n                    </div>\n\n                </div>\n                <div class=\"col-lg-4\">\n                    <div class=\"mb-5\">\n                        <div class=\"mb-5\">\n                            <label class=\"form-label\">Dosya adresi</label>\n                            <div class=\"d-flex flex-row\">\n                                <InputText v-model=\"props.media.original_url\" class=\"flex-grow-1 border\"/>\n                                <Button icon=\"bi bi-front fs-3\" severity=\"secondary\" text outlined class=\"copy-button ms-2\" :data-clipboard-text=\"props.media.original_url\" v-tooltip.top=\"copyTooltip\"/>\n                            </div>\n                        </div>\n                        <div v-if=\"props.media.mime_type.startsWith('image/')\">\n                            <div class=\"\">\n                                <label class=\"form-label\">Önizleme adresi</label>\n                                <div class=\"d-flex flex-row\">\n                                    <InputText v-model=\"props.media.preview_url\" class=\"flex-grow-1 border\"/>\n                                    <Button icon=\"bi bi-front fs-3\" severity=\"secondary\" text outlined class=\"ms-2\" :data-clipboard-text=\"props.media.preview_url\" v-tooltip.top=\"copyTooltip\"/>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"rounded bg-light p-4 p-xl-5 p-xxl-7 mb-5\">\n                        <form @submit.prevent=\"updateMedia\">\n                            <div class=\"mb-5\">\n                                <label class=\"form-label\">ALT Başlık</label>\n                                <InputText v-model=\"form.name\" class=\"w-100\" />\n                            </div>\n                            <div class=\"mb-5\">\n                                <label class=\"form-label\">Dosya Adı</label>\n                                <div class=\"p-inputgroup\">\n                                    <InputText v-model=\"form.file_name\" />\n                                    <span class=\"p-inputgroup-addon\">.{{ props.media.custom_properties.ext }}</span>\n                                </div>\n                            </div>\n                            <button type=\"submit\" class=\"btn btn-primary btn-sm\" :class=\"{ 'opacity-25': form.processing }\" :disabled=\"form.processing\">Güncelle</button>\n                        </form>\n                        <FormErrors :form=\"form\"/>\n                    </div>\n                </div>\n            </div>\n\n        </Dialog>\n\n    </div>\n\n</template>\n\n<script setup>\n\nimport {computed, onMounted, ref} from \"vue\";\nimport { useForm } from \"@inertiajs/vue3\";\nimport Dialog from \"primevue/dialog\";\nimport InputText from 'primevue/inputtext';\nimport Button from 'primevue/button';\n\nconst props = defineProps({\n    media:Object,\n});\n\n\nconst visible = ref(false);\nlet copyTooltip = ref(\"Kopyala\");\n\nlet file_name_without_ext = \"\";\n\nconst updateFileNameWithoutExt = (file_name) => {\n    let file_name_arr = file_name.value.split('.');\n    file_name_arr.pop();\n    file_name_without_ext = file_name_arr.join('.');\n}\nupdateFileNameWithoutExt(computed(() => props.media.file_name));\n\n\nconst form = useForm({\n    name:props.media.name,\n    file_name:file_name_without_ext\n});\n\nconst updateMedia = () => {\n    form.put(route('medias.update',props.media),{\n        preserveScroll: true,\n        onSuccess: () => {\n            //visible.value = false;\n            updateFileNameWithoutExt(computed(() => props.media.file_name));\n            form.file_name = file_name_without_ext;\n        }\n    });\n}\n\nconst mediaDetails = () => {\n\n    fetch(route('medias.show',props.media.id),{\n        headers: {\n            'Accept': 'application/json',\n        }\n    }).then(function (response) {\n        return response.json();\n    }).then((json) => {\n        console.log(json);\n    });\n\n}\n\nonMounted(() => {\n    var clipboard = new ClipboardJS('[data-clipboard-text]');\n    clipboard.on('success', function(e) {\n        var btn = e.trigger.querySelector('.p-button-icon');\n        btn.classList.remove('bi-front');\n        btn.classList.add('bi-check-square-fill');\n        setTimeout(() => {\n            btn.classList.remove('bi-check-square-fill');\n            btn.classList.add('bi-front');\n        }, 1000);\n        e.clearSelection();\n    });\n});\n</script>"],"names":["props","__props","visible","ref","copyTooltip","file_name_without_ext","updateFileNameWithoutExt","file_name","file_name_arr","value","split","pop","join","computed","media","form","useForm","name","updateMedia","put","route","preserveScroll","onSuccess","mediaDetails","fetch","id","headers","then","response","json","console","log","onMounted","ClipboardJS","on","e","btn","trigger","querySelector","classList","remove","add","setTimeout","clearSelection"],"sourceRoot":""}