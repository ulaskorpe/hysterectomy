{"version":3,"file":"js/3271.js","mappings":"o9DAKA,E,mECiEA,IAAMA,EAAQC,EAIRC,GAAcC,EAAAA,EAAAA,IAAQ,CACxBC,WAAW,KAITC,GAAcC,EAAAA,EAAAA,OACdC,GAAkBD,EAAAA,EAAAA,OAClBE,GAAeF,EAAAA,EAAAA,KAAI,SAEnBG,EAAe,SAACC,GAClBL,EAAYM,MAAQD,EAAMC,KAC9B,EAEMC,EAAU,WAEZV,EAAYW,WAAU,SAACC,GAAI,OAAAC,EAAAA,EAAA,GACpBD,GAAI,IACPV,WAAYC,EAAYM,MAAMK,KAAI,SAACC,GAAG,OAAKA,EAAIC,EAAE,KAAC,IAClDC,KAAKC,MAAM,2BAA2BpB,EAAMqB,QAAQH,IAAI,CACxDI,UAAW,WAEX,GAGR,E,OAEAC,EAAAA,EAAAA,YAAU,WAENf,EAAaG,MAAQJ,EAAgBI,MAAMa,aAAe,KAE1DnB,EAAYM,MAAQX,EAAMqB,QAAQI,gBACtC,I","sources":["webpack:///./resources/js/Pages/Product/ReOrderVariants.vue?92fe","webpack:///./resources/js/Pages/Product/ReOrderVariants.vue"],"sourcesContent":["import script from \"./ReOrderVariants.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ReOrderVariants.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <Head head-key=\"title\" title=\"Varyasyonları Sırala\" />\n\n    <div id=\"kt_app_toolbar\" class=\"app-toolbar py-3 py-lg-6\">\n        <div id=\"kt_app_toolbar_container\" class=\"app-container container-xxl d-flex flex-stack\">\n            \n            <div  class=\"page-title d-flex flex-column justify-content-center flex-wrap me-3\">\n                <h1 class=\"page-heading d-flex text-dark fw-bold fs-3 flex-column justify-content-center my-0\">\n                    {{ props.product.name }} varyasyonları sırala\n                </h1>\n            </div>\n\n            <div class=\"d-flex align-items-center gap-2 gap-lg-3\">\n                <Link :href=\"route('products.index',{productType:props.product.product_type_id,language:$page.props.current_language})\" class=\"btn fw-bold btn-sm btn-secondary d-flex align-items-center\">\n                    <i class=\"bi bi-arrow-left fs-4\"></i>\n                    <span class=\"ms-1 lh-1\">Geri</span>\n                </Link>\n            </div>\n\n        </div>\n    </div>\n\t\n    <div id=\"kt_app_content\" class=\"app-content  flex-column-fluid\">\n\n        <div id=\"kt_app_content_container\" class=\"app-container container-xxl h-100\">\n            \n            <div class=\"card h-100\">\n\n                <div class=\"card-body p-0\" ref=\"reorderCardBody\">\n\n                    <DataTable :value=\"variantsRef\" @rowReorder=\"onRowReorder\" stripedRows scrollable :scrollHeight=\"scrollHeight\" dataKey=\"id\" tableStyle=\"min-width: 50rem\">\n                        <template #empty> Seçilen kriterlere uygun kayıt bulunamadı. </template>\n                        <Column rowReorder headerStyle=\"width: 3rem\" :reorderableColumn=\"false\" />\n                        <Column header=\"Şube\" v-if=\"props.product.product_type.option_group && props.product.product_type.option_group.use_team\">\n                            <template #body=\"{ data }\">\n                                <span>{{ data.team ? data.team.name : 'NA' }}</span>\n                            </template>\n                        </Column>\n                        <Column header=\"Varyasyon Detayları\">\n                            <template #body=\"{ data }\">\n                                <div class=\"vstack gap-1\">\n                                    <div v-for=\"(val,v) in data.option_values\" :key=\"v\">\n                                        <span>{{ val.name }}:</span>\n                                        <strong>{{ val.value }}</strong>\n                                    </div>\n                                </div>\n                            </template>\n                        </Column>\n                    </DataTable>\n\n                </div>\n\n                <div class=\"card-footer\">\n                    <button type=\"button\" class=\"btn fw-bold btn-success ms-auto\" :class=\"{ 'opacity-25': reOrderForm.processing }\" :disabled=\"reOrderForm.processing\" @click=\"reorder\">Kaydet</button>\n                </div>\n            </div>\n\n        </div>\n\n    </div>\n\n</template>\n\n<script setup>\n\nimport {ref,onMounted} from \"vue\";\nimport {useForm} from \"@inertiajs/vue3\";\nimport DataTable from \"primevue/datatable\";\nimport Column from 'primevue/column';\n\nconst props = defineProps({\n    product:Object\n});\n\nconst reOrderForm = useForm({\n    order_data:[]\n});\n\n\nconst variantsRef = ref();\nconst reorderCardBody = ref();\nconst scrollHeight = ref(\"500px\");\n\nconst onRowReorder = (event) => {\n    variantsRef.value = event.value;\n}\n\nconst reorder = () => {\n\n    reOrderForm.transform((data) => ({\n        ...data,\n        order_data: variantsRef.value.map((row) => row.id),\n    })).post(route('product-variants.reorder',props.product.id),{\n        onSuccess: () => {\n            \n        },\n    });\n\n}\n\nonMounted(() => {\n\n    scrollHeight.value = reorderCardBody.value.offsetHeight + \"px\";\n\n    variantsRef.value = props.product.product_variants;\n});\n\n</script>"],"names":["props","__props","reOrderForm","useForm","order_data","variantsRef","ref","reorderCardBody","scrollHeight","onRowReorder","event","value","reorder","transform","data","_objectSpread","map","row","id","post","route","product","onSuccess","onMounted","offsetHeight","product_variants"],"sourceRoot":""}