"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3721],{3742:(e,t,l)=>{l.d(t,{A:()=>B});var a=l(1842),o=l(8221),n=l.n(o),r=l(5373),i=l.n(r),c=l(2995),d=l(7304),s=l(4842),u=l(7212),p=l(2135),f=l(9193),m=l(1959),h=l(8540),v={key:0,class:"card-title me-auto"},k={class:"card-toolbar ms-auto"},y=["href"],b={class:"row g-4"},g={class:"form-label"},V={key:3,class:"p-inputgroup"};const B={__name:"Filter",props:{uri:String,filters:{type:Object,default:null},hasSearch:{type:Boolean,default:!0},hasExport:{type:Boolean,default:!1},extraParams:{type:String,default:null}},setup:function(e){var t=e,l=(0,a.ref)(!1),o=(0,a.ref)(!1),r=(0,a.ref)((0,c.N5)().props.queryParams),B=(0,a.ref)(r.value.hasOwnProperty("filter")),_=(0,a.ref)({filter:t.filters,search:r.value.search,sort:r.value.sort||null}),N={filter:r.value.filter,search:"",language:(0,c.N5)().props.current_language,sort:r.value.sort||null},E=function(){N.filter={},N.search=_.value.search,Object.keys(_.value.filter).forEach((function(e){""!=_.value.filter[e].value&&(N.filter[e]=_.value.filter[e].value)})),Object.keys(N).forEach((function(e){""!=N[e]&&null!=N[e]&&void 0!==N[e]||delete N[e]}));var e=t.extraParams?"?export=true&"+t.extraParams+"&":"?export=true&";return t.uri+e+i().stringify(N)},x=(0,a.ref)(E()),C=function(){o.value=!0,Object.keys(N).forEach((function(e){""!=N[e]&&null!=N[e]&&void 0!==N[e]||delete N[e]}));var e=t.extraParams?"?"+t.extraParams+"&":"?";c.QB.visit(t.uri+e+i().stringify(N),{method:"get",preserveState:function(e){return!!e.props.queryParams.hasOwnProperty("filter")},onSuccess:function(e){var l;B.value=e.props.queryParams.hasOwnProperty("filter"),_.value.filter=t.filters,l=E(),x.value=l},onFinish:function(e){o.value=!1,document.querySelector("body").classList.remove("p-overflow-hidden"),setTimeout((function(){var e=document.querySelector(".p-blockui");e&&e.remove()}),500)}})},w=function(){N.filter={},N.search=_.value.search,Object.keys(_.value.filter).forEach((function(e){""!=_.value.filter[e].value&&(N.filter[e]=_.value.filter[e].value)})),C()},S=function(){N.filter={},N.search=_.value.search,C()};return(0,a.watch)((function(){return[_.value.search]}),n()((function(){N.search=_.value.search,C()}),500)),function(n,r){var i=(0,a.resolveDirective)("tooltip");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[t.hasSearch?((0,a.openBlock)(),(0,a.createElementBlock)("div",v,[(0,a.withDirectives)((0,a.createElementVNode)("input",{type:"text",class:"form-control form-control-sm",placeholder:"Ara...","onUpdate:modelValue":r[0]||(r[0]=function(e){return(0,a.unref)(_).search=e})},null,512),[[a.vModelText,(0,a.unref)(_).search]])])):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",k,[e.hasExport?((0,a.openBlock)(),(0,a.createElementBlock)("a",{key:0,href:x.value,target:"_blank",class:"btn fw-bold btn-sm btn-light-warning d-flex align-items-center me-3"},r[3]||(r[3]=[(0,a.createElementVNode)("i",{class:"bi bi-box-arrow-right fs-4"},null,-1),(0,a.createElementVNode)("span",{class:"ms-1 lh-1"},"Excel",-1)]),8,y)):(0,a.createCommentVNode)("",!0),t.filters?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:1,type:"button",class:(0,a.normalizeClass)(["btn btn-sm btn-icon",{"btn-primary":!B.value,"btn-light-success":B.value}]),onClick:r[1]||(r[1]=function(e){return l.value=!0})},r[4]||(r[4]=[(0,a.createElementVNode)("i",{class:"bi bi-funnel-fill fs-3"},null,-1)]),2)),[[i,"İçerikleri filtrele",void 0,{top:!0}]]):(0,a.createCommentVNode)("",!0),t.filters&&B.value?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("button",{key:2,type:"button",class:"btn btn-sm btn-light-danger btn-icon ms-2",onClick:S},r[5]||(r[5]=[(0,a.createElementVNode)("i",{class:"bi bi-x fs-3"},null,-1)]))),[[i,"Tüm filtreleri kaldır",void 0,{top:!0}]]):(0,a.createCommentVNode)("",!0)]),t.filters?((0,a.openBlock)(),(0,a.createBlock)((0,a.unref)(u.A),{key:1,visible:l.value,"onUpdate:visible":r[2]||(r[2]=function(e){return l.value=e}),position:"right",class:"w-300px w-lg-500px"},{default:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("div",b,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(_).filter,(function(e,t){return(0,a.openBlock)(),(0,a.createElementBlock)("div",{key:t,class:(0,a.normalizeClass)({"col-md-12":e.full_width,"col-md-6":!e.full_width})},[(0,a.createElementVNode)("label",g,(0,a.toDisplayString)(e.label),1),"selectSingle"==e.type?((0,a.openBlock)(),(0,a.createBlock)((0,a.unref)(h.A),{key:0,modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t},showClear:"",variant:"filled",options:e.options,optionLabel:"label",optionValue:"value",dataKey:"value",placeholder:"Lütfen seçiniz",class:"w-100",onChange:w},null,8,["modelValue","onUpdate:modelValue","options"])):(0,a.createCommentVNode)("",!0),"select"==e.type?((0,a.openBlock)(),(0,a.createBlock)((0,a.unref)(d.A),{key:1,virtualScrollerOptions:{itemSize:44},variant:"filled",modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t},display:"chip",filter:"",options:e.options,optionLabel:"label",optionValue:"value",dataKey:"value",placeholder:"Lütfen seçiniz",maxSelectedLabels:5,class:"w-100",onChange:w},null,8,["modelValue","onUpdate:modelValue","options"])):(0,a.createCommentVNode)("",!0),"selectGroup"==e.type?((0,a.openBlock)(),(0,a.createBlock)((0,a.unref)(d.A),{key:2,modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t},display:"chip",filter:"",variant:"filled",options:e.options,optionLabel:"name",optionValue:"id",optionGroupLabel:"label",optionGroupChildren:"value",placeholder:"Lütfen seçiniz",maxSelectedLabels:5,class:"w-100",onChange:w},null,8,["modelValue","onUpdate:modelValue","options"])):(0,a.createCommentVNode)("",!0),"search"==e.type?((0,a.openBlock)(),(0,a.createElementBlock)("div",V,[(0,a.createVNode)((0,a.unref)(s.A),{modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t},variant:"filled",placeholder:e.label},null,8,["modelValue","onUpdate:modelValue","placeholder"]),e.value?((0,a.openBlock)(),(0,a.createBlock)((0,a.unref)(f.A),{key:0,icon:"bi bi-x",severity:"secondary",onClick:function(l){return function(e,t){e.value="",B.value&&N.filter[t]&&(N.filter[t]="",w())}(e,t)}},null,8,["onClick"])):(0,a.createCommentVNode)("",!0),e.value?((0,a.openBlock)(),(0,a.createBlock)((0,a.unref)(f.A),{key:1,icon:"bi bi-search",onClick:w})):(0,a.createCommentVNode)("",!0)])):(0,a.createCommentVNode)("",!0),"date"==e.type?((0,a.openBlock)(),(0,a.createBlock)((0,a.unref)(m.A),{key:4,showButtonBar:"",variant:"filled",modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t},dateFormat:"dd-mm-yy",class:"w-100",onDateSelect:w,onClearClick:w},null,8,["modelValue","onUpdate:modelValue"])):(0,a.createCommentVNode)("",!0)],2)})),128))])]})),_:1},8,["visible"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)((0,a.unref)(p.A),{blocked:o.value,fullScreen:""},null,8,["blocked"])],64)}}}},371:(e,t,l)=>{l.d(t,{A:()=>d});var a=l(1842),o={class:"d-flex justify-content-center"},n={class:"pagination pagination-outline"},r={key:0,class:"page-item previous disabled"},i={key:0,class:"page-link"},c={key:1,class:"page-link"};const d={__name:"Pagination",props:{links:Array,only:{type:Array,default:[]}},setup:function(e){var t=e;return function(e,l){var d=(0,a.resolveComponent)("Link");return(0,a.openBlock)(),(0,a.createElementBlock)("div",null,[(0,a.createElementVNode)("div",o,[(0,a.createElementVNode)("ul",n,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(t.links,(function(e,o){return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:o},[null===e.url?((0,a.openBlock)(),(0,a.createElementBlock)("li",r,[0==o?((0,a.openBlock)(),(0,a.createElementBlock)("span",i,l[0]||(l[0]=[(0,a.createElementVNode)("i",{class:"bi bi-chevron-double-left fs-3"},null,-1)]))):o==t.links.length-1?((0,a.openBlock)(),(0,a.createElementBlock)("span",c,l[1]||(l[1]=[(0,a.createElementVNode)("i",{class:"bi bi-chevron-double-right fs-3"},null,-1)]))):(0,a.createCommentVNode)("",!0)])):((0,a.openBlock)(),(0,a.createElementBlock)("li",{key:1,class:(0,a.normalizeClass)(["page-item",{active:e.active}])},[0==o?((0,a.openBlock)(),(0,a.createBlock)(d,{key:0,href:e.url,class:"page-link",only:t.only},{default:(0,a.withCtx)((function(){return l[2]||(l[2]=[(0,a.createElementVNode)("i",{class:"bi bi-chevron-double-left fs-3"},null,-1)])})),_:2},1032,["href","only"])):o==t.links.length-1?((0,a.openBlock)(),(0,a.createBlock)(d,{key:1,href:e.url,class:"page-link",only:t.only},{default:(0,a.withCtx)((function(){return l[3]||(l[3]=[(0,a.createElementVNode)("i",{class:"bi bi-chevron-double-right fs-3"},null,-1)])})),_:2},1032,["href","only"])):((0,a.openBlock)(),(0,a.createBlock)(d,{key:2,href:e.url,class:"page-link",only:t.only},{default:(0,a.withCtx)((function(){return[(0,a.createTextVNode)((0,a.toDisplayString)(e.label),1)]})),_:2},1032,["href","only"]))],2))],64)})),128))])])])}}}},3721:(e,t,l)=>{l.r(t),l.d(t,{default:()=>j});var a=l(1842),o=l(371),n=l(2693),r=l(2835),i=l(9193),c=l(3742),d=l(7304),s=l(197),u=(l(751),{id:"kt_app_toolbar",class:"app-toolbar py-3 py-lg-6"}),p={id:"kt_app_toolbar_container",class:"app-container container-fluid d-flex flex-stack"},f={class:"d-flex align-items-center gap-2 gap-lg-3"},m={id:"kt_app_content",class:"app-content flex-column-fluid"},h={id:"kt_app_content_container",class:"app-container container-fluid"},v={class:"card"},k={class:"card-header px-4"},y={class:"card-toolbar w-100 justify-content-between gap-3"},b={class:"d-flex flex-grow-1"},g={class:"card-body p-0"},V={key:0,class:"bi bi-check-circle-fill text-success fs-2"},B={key:1,class:"bi bi-x-circle-fill text-danger fs-2"},_={key:2,class:"bi bi-pause-circle-fill text-warning fs-2"},N=["href","data-fancybox"],E=["src"],x={key:0},C={key:1},w={key:2},S={key:3},A={key:4},D={key:5},L={key:6},F={key:7},O={key:8},P={class:"d-flex flex-nowrap justify-content-end"},U={class:"card-footer"};const j={__name:"Photos",props:{photos:Object,filters:Object},setup:function(e){var t=e,l=((0,a.ref)(!0),(0,a.ref)([{field:"name",header:"Yerel Adı",useField:!0},{field:"photo_category",header:"Kategori"},{field:"photo_sub_category",header:"Alt Kategori"},{field:"photo_family",header:"Aile"},{field:"photo_type",header:"Tür"},{field:"photos_count",header:"Fotoğraf Adeti"},{field:"created_at",header:"Oluşturulma Tarihi"},{field:"shooting_date",header:"Çekim Tarihi"},{field:"approval_date",header:"Onay Tarihi"},{field:"approved_by",header:"Onaylayan"},{field:"published_at",header:"Yayın Tarihi"},{field:"published_by",header:"Yayınlayan"}])),j=(0,a.ref)(l.value),z=function(e){j.value=l.value.filter((function(t){return e.includes(t)}))},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return"";var l=new Date(e),a=l.getDate().toLocaleString().padStart(2,"0"),o=(l.getMonth()+1).toString().padStart(2,"0"),n=l.getFullYear(),r=String(l.getHours()).padStart(2,"0"),i=String(l.getMinutes()).padStart(2,"0"),c=String(l.getSeconds()).padStart(2,"0");return t?a+"."+o+"."+n+" "+r+":"+i+":"+c:a+"."+o+"."+n};return(0,a.onMounted)((function(){s.lX.bind("[data-fancybox]")})),function(e,s){var Y=(0,a.resolveComponent)("Head"),q=(0,a.resolveComponent)("Link"),K=(0,a.resolveDirective)("tooltip");return(0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,null,[(0,a.createVNode)(Y,{"head-key":"title",title:"Fotoğraflarım"}),(0,a.createElementVNode)("div",u,[(0,a.createElementVNode)("div",p,[s[1]||(s[1]=(0,a.createElementVNode)("div",{class:"page-title d-flex flex-column justify-content-center flex-wrap me-3"},[(0,a.createElementVNode)("h1",{class:"page-heading d-flex text-dark fw-bold fs-3 flex-column justify-content-center my-0 text-uppercase"},[(0,a.createElementVNode)("span",{class:"d-flex align-items-center"},"Fotoğraflarım")])],-1)),(0,a.createElementVNode)("div",f,[(0,a.createVNode)(q,{href:e.route("photos.create",{language:e.$page.props.current_language}),class:"btn fw-bold btn-sm btn-success d-flex align-items-center"},{default:(0,a.withCtx)((function(){return s[0]||(s[0]=[(0,a.createElementVNode)("i",{class:"bi bi-plus-circle fs-4"},null,-1),(0,a.createElementVNode)("span",{class:"ms-1 lh-1"},"YENİ",-1)])})),_:1},8,["href"])])])]),(0,a.createElementVNode)("div",m,[(0,a.createElementVNode)("div",h,[(0,a.createElementVNode)("div",v,[(0,a.createElementVNode)("div",k,[(0,a.createElementVNode)("div",y,[(0,a.createElementVNode)("div",b,[(0,a.createVNode)((0,a.unref)(c.A),{filters:t.filters,uri:e.route("photos.index")},null,8,["filters","uri"])])])]),(0,a.createElementVNode)("div",g,[(0,a.createVNode)((0,a.unref)(n.A),{scrollable:"",value:t.photos.data,stripedRows:"",dataKey:"id",tableStyle:"min-width: 50rem"},{header:(0,a.withCtx)((function(){return[(0,a.createElementVNode)("div",null,[(0,a.createVNode)((0,a.unref)(d.A),{modelValue:j.value,options:l.value,optionLabel:"header","onUpdate:modelValue":z,display:"chip",placeholder:"Select Columns",class:"w-100"},null,8,["modelValue","options"])])]})),default:(0,a.withCtx)((function(){return[(0,a.createVNode)((0,a.unref)(r.A),{headerStyle:"width: 2rem"},{body:(0,a.withCtx)((function(e){var t=e.data;return[1===t.approval_status?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("i",V,null,512)),[[K,"Onaylanmış",void 0,{top:!0}]]):(0,a.createCommentVNode)("",!0),2===t.approval_status?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("i",B,null,512)),[[K,"İptal",void 0,{top:!0}]]):(0,a.createCommentVNode)("",!0),0===t.approval_status?(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("i",_,null,512)),[[K,"Yeni",void 0,{top:!0}]]):(0,a.createCommentVNode)("",!0)]})),_:1}),(0,a.createVNode)((0,a.unref)(r.A),{headerStyle:"width: 3rem",header:"Görsel"},{body:(0,a.withCtx)((function(e){var t=e.data;return[(0,a.createElementVNode)("a",{href:t.main_image.original_url,"data-fancybox":"photo-".concat(t.id)},[(0,a.createElementVNode)("img",{src:t.main_image.preview_url,width:"50",class:"rounded"},null,8,E)],8,N)]})),_:1}),(0,a.createVNode)((0,a.unref)(r.A),{field:"id",header:"ID",headerStyle:"width: 4rem"}),((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(j.value,(function(e,t){return(0,a.openBlock)(),(0,a.createBlock)((0,a.unref)(r.A),{field:e.field,header:e.header,key:e.field+"_"+t,class:"text-nowrap"},{body:(0,a.withCtx)((function(t){var l,o,n,r,i,c,d=t.data;return["created_at"==e.field||"published_at"==e.field||"shooting_date"==e.field||"approval_date"==e.field?((0,a.openBlock)(),(0,a.createElementBlock)("span",x,(0,a.toDisplayString)(T(d[e.field],!0)),1)):(0,a.createCommentVNode)("",!0),"published_by"==e.field?((0,a.openBlock)(),(0,a.createElementBlock)("span",C,(0,a.toDisplayString)(null===(l=d.publisher)||void 0===l?void 0:l.name),1)):(0,a.createCommentVNode)("",!0),"approved_by"==e.field?((0,a.openBlock)(),(0,a.createElementBlock)("span",w,(0,a.toDisplayString)(null===(o=d.approver)||void 0===o?void 0:o.name),1)):(0,a.createCommentVNode)("",!0),"photo_category"==e.field?((0,a.openBlock)(),(0,a.createElementBlock)("span",S,(0,a.toDisplayString)(null===(n=d.photo_type)||void 0===n||null===(n=n.photo_family)||void 0===n||null===(n=n.photo_sub_category)||void 0===n||null===(n=n.photo_category)||void 0===n?void 0:n.name),1)):(0,a.createCommentVNode)("",!0),"photo_sub_category"==e.field?((0,a.openBlock)(),(0,a.createElementBlock)("span",A,(0,a.toDisplayString)(null===(r=d.photo_type)||void 0===r||null===(r=r.photo_family)||void 0===r||null===(r=r.photo_sub_category)||void 0===r?void 0:r.name),1)):(0,a.createCommentVNode)("",!0),"photo_family"==e.field?((0,a.openBlock)(),(0,a.createElementBlock)("span",D,(0,a.toDisplayString)(null===(i=d.photo_type)||void 0===i||null===(i=i.photo_family)||void 0===i?void 0:i.name),1)):(0,a.createCommentVNode)("",!0),"photo_type"==e.field?((0,a.openBlock)(),(0,a.createElementBlock)("span",L,(0,a.toDisplayString)(null===(c=d.photo_type)||void 0===c||null===(c=c.photo_family)||void 0===c?void 0:c.name),1)):(0,a.createCommentVNode)("",!0),"photos_count"==e.field?((0,a.openBlock)(),(0,a.createElementBlock)("span",F,(0,a.toDisplayString)(d.gallery_images.length+1),1)):(0,a.createCommentVNode)("",!0),e.useField?((0,a.openBlock)(),(0,a.createElementBlock)("span",O,(0,a.toDisplayString)(d[e.field]),1)):(0,a.createCommentVNode)("",!0)]})),_:2},1032,["field","header"])})),128)),(0,a.createVNode)((0,a.unref)(r.A),{class:"text-end border-start",frozen:"",alignFrozen:"right",header:"İşlemler"},{body:(0,a.withCtx)((function(t){var l=t.data;return[(0,a.createElementVNode)("div",P,[0==l.approval_status?((0,a.openBlock)(),(0,a.createBlock)(q,{key:0,href:e.route("photos.edit",[l.id,{language:l.language}])},{default:(0,a.withCtx)((function(){return[(0,a.createVNode)((0,a.unref)(i.A),{icon:"bi bi-pencil",text:"",rounded:"",severity:"info",class:"ms-2"})]})),_:2},1032,["href"])):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(q,{href:e.route("my.photos.show",[l.id,{language:l.language}])},{default:(0,a.withCtx)((function(){return[(0,a.createVNode)((0,a.unref)(i.A),{icon:"bi bi-eye",text:"",rounded:"",severity:"info",class:"ms-2"})]})),_:2},1032,["href"])])]})),_:1})]})),_:1},8,["value"])]),(0,a.createElementVNode)("div",U,[(0,a.createVNode)((0,a.unref)(o.A),{links:t.photos.links,only:["photos","flash"]},null,8,["links"])])])])])],64)}}}}}]);
//# sourceMappingURL=3721.js.map