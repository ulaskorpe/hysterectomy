{"version":3,"file":"js/3836.js","mappings":";wIAKA,kZCAA,iLCgBUA,EAAQC,EASRC,EAAOC,EACPC,EAAc,SAACC,GACjBH,EAAK,oBAAoBG,EAC7B,4qXC5BJ,0LCqTML,GAAQC,EAWRK,KAFSC,EAAAA,EAAAA,KAAI,OAEOA,EAAAA,EAAAA,KAAI,CAC1B,CACIC,MAAM,OACNH,MAAM,GAEV,CACIG,MAAM,YACNH,MAAM,GAEV,CACIG,MAAM,QACNH,MAAM,MAKVI,KADgBC,EAAAA,EAAAA,MAAUV,MAAMW,kBACfD,EAAAA,EAAAA,MAAUV,MAAMS,gBAE/BG,IAAoBL,EAAAA,EAAAA,KAAI,MACxBM,IAAeN,EAAAA,EAAAA,KAAI,MACnBO,IAAMC,EAAAA,EAAAA,YAAW,MACjBC,IAAST,EAAAA,EAAAA,KAAI,MACbU,IAAaV,EAAAA,EAAAA,MAAI,GACjBW,IAAeX,EAAAA,EAAAA,KAAI,MAEnBY,GAAoBnB,GAAMoB,iBAAiBN,KAAI,SAACO,GAClD,OAAOA,EAAEC,EACb,IAEMC,IAAOC,EAAAA,EAAAA,IAAQ,CACjBC,SAASzB,GAAM0B,MAAMD,SACrBE,KAAK3B,GAAM0B,MAAMC,KACjBC,QAAQ5B,GAAM0B,MAAME,QACpBC,cAAe,IAAIC,KAAK9B,GAAM0B,MAAMG,eACpCE,kBAAwC,QAAvBC,EAAChC,GAAM0B,MAAMO,kBAAU,IAAAD,GAAc,QAAdA,EAAtBA,EAAwBE,oBAAY,IAAAF,GAAoB,QAApBA,EAApCA,EAAsCG,0BAAkB,IAAAH,GAAgB,QAAhBA,EAAxDA,EAA0DI,sBAAc,IAAAJ,OAAA,EAAxEA,EAA0EV,GAC5Fe,sBAA4C,QAAvBC,EAACtC,GAAM0B,MAAMO,kBAAU,IAAAK,GAAc,QAAdA,EAAtBA,EAAwBJ,oBAAY,IAAAI,GAAoB,QAApBA,EAApCA,EAAsCH,0BAAkB,IAAAG,OAAA,EAAxDA,EAA0DhB,GAChFiB,gBAAsC,QAAvBC,EAACxC,GAAM0B,MAAMO,kBAAU,IAAAO,GAAc,QAAdA,EAAtBA,EAAwBN,oBAAY,IAAAM,OAAA,EAApCA,EAAsClB,GACtDmB,cAAczC,GAAM0B,MAAMe,cAC1BC,WAAW1C,GAAM0B,MAAMgB,WAAWC,QAAO,SAACtB,GAAC,OAAKF,GAAkByB,SAASvB,EAAEC,GAAG,IAChFuB,MAAM7C,GAAM0B,MAAMmB,MAClBC,KAAK9C,GAAM0B,MAAMoB,KACjBC,YAAY/C,GAAM0B,MAAMqB,YACxBC,SAAShD,GAAM0B,MAAMsB,SACrBC,UAAUjD,GAAM0B,MAAMuB,UACtBC,QAAQlD,GAAM0B,MAAMwB,QACpBC,KAAKnD,GAAM0B,MAAMyB,KACjBC,OAAOpD,GAAM0B,MAAM0B,OACnBC,QAAQrD,GAAM0B,MAAM2B,QACpBC,UAAUtD,GAAM0B,MAAM6B,WACtBC,cAAwC,QAA3BC,EAACzD,GAAM0B,MAAMgC,sBAAc,IAAAD,EAAAA,EAAI,GAC5CE,gBAAgB3D,GAAM0B,MAAMiC,gBAC5BC,aAAa5D,GAAM0B,MAAMkC,aACzBC,mBAAmB7D,GAAM0B,MAAMmC,mBAC/BC,mBAAmB9D,GAAM0B,MAAMoC,mBAC/BC,WAAW/D,GAAM0B,MAAMqC,aAGrBC,GAAS,WACXzC,GAAK0C,IAAIC,MAAM,gBAAgBlE,GAAM0B,OAAO,CACxCyC,UAAW,WAEX,GAER,EAEMC,GAAe,SAACC,GAClB9C,GAAK+B,UAAYe,CACrB,EAEMC,GAAmB,SAACC,GACtBhD,GAAKiC,cAAgB,GAAHgB,OAAAC,EAAOlD,GAAKiC,eAAaiB,EAAKF,GACpD,EAOMG,GAAyB,WAE3BnD,GAAKyB,SAAW9B,GAAab,MAAMsE,SAASC,SAASC,MACrDtD,GAAK0B,UAAY/B,GAAab,MAAMsE,SAASC,SAASE,MAEtD5D,GAAab,MAAM0E,mBAAmBC,SAAQ,SAAAC,GACtCA,EAAUC,MAAMtC,SAAS,aACzBrB,GAAK2B,QAAU+B,EAAUE,WAEzBF,EAAUC,MAAMtC,SAAS,iCACzBrB,GAAK4B,KAAO8B,EAAUE,WAEtBF,EAAUC,MAAMtC,SAAS,iCACzBrB,GAAK6B,OAAS6B,EAAUE,UAEhC,IAEA5D,GAAK8B,QAAUnC,GAAab,MAAM+E,iBAEtC,EAEMC,GAAyB,WAC3B,IAAMC,EAAQ1E,GAAkBP,MAC1BkF,EAAe,IAAIC,OAAOC,KAAKC,OAAOC,aAAaL,EAAO,CAC5DM,sBAAuB,CAAE1C,QAAS,MAClC2C,OAAQ,CAAC,WAAY,oBAAqB,wBAG9CN,EAAaO,YAAY,iBAAiB,WAC1C,IAAMC,EAAQR,EAAaS,WAC3B,GAAID,EAAMpB,SAAU,CAChB,IAAAsB,EAAqBF,EAAMpB,SAASC,SAA5BC,EAAGoB,EAAHpB,IAAKC,EAAGmB,EAAHnB,IACboB,GAAUrB,IAAOC,KACjB5D,GAAab,MAAQ0F,EACrBrB,KACAyB,QAAQC,IAAI,yBAA0BL,EAC1C,CACA,GACJ,EAEMG,GAAS,iBAAAG,KAAAC,IAAAC,MAAG,SAAAC,EAAO3B,EAAKC,GAAG,IAAA2B,EAAAC,EAAA,OAAAJ,IAAAK,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,GAEvBC,EAAAA,EAAAA,YAAU,UAEXjG,GAAIT,MAAO,CAAFuG,EAAAE,KAAA,SAaV,OAXAhG,GAAIT,MAAQ,IAAImF,OAAOC,KAAKuB,IAAInG,GAAaR,MAAO,CAChD4G,OAAQ,CAAEpC,IAAAA,EAAKC,IAAAA,GACfoC,KAAM,GACNC,YAAY,EACZC,gBAAgB,EAChBC,cAAc,EACdC,mBAAmB,EACnBC,eAAe,EACfC,MAAM,qBAGVZ,EAAAE,KAAA,EAEwCtB,OAAOC,KAAKgC,cAAc,UAAS,OAAAhB,EAAAG,EAAAc,KAAnEhB,EAAqBD,EAArBC,sBACR1F,GAAOX,MAAQ,IAAIqG,EAAsB,CACrCiB,SAAU,CAAE9C,IAAAA,EAAKC,IAAAA,GACjBhE,IAAKA,GAAIT,MACTuH,cAAc,IAIlB5G,GAAOX,MAAMyF,YAAY,WAAW,SAAC+B,GACjC,IAAMC,EAASD,EAAME,OAAOlD,MACtBmD,EAASH,EAAME,OAAOjD,MAC5BqB,QAAQC,IAAI,qBAAsB,CAAEvB,IAAKiD,EAAQhD,IAAKkD,KAGrC,IAAIxC,OAAOC,KAAKwC,UACxBC,QAAQ,CAAEtD,SAAU,CAAEC,IAAKiD,EAAQhD,IAAKkD,KAAY,SAACG,EAASC,GACpD,OAAXA,GAAmBD,EAAQ,KAC3BhC,QAAQC,IAAI,sBAAuB+B,EAAQ,IAC3CjH,GAAab,MAAQ8H,EAAQ,GAC7BzD,KACA9D,GAAkBP,MAAMA,MAAQ8H,EAAQ,GAAG/C,kBAEnD,GACJ,IAAGwB,EAAAE,KAAA,iBAIHhG,GAAIT,MAAMgI,UAAU,CAAExD,IAAAA,EAAKC,IAAAA,IAC3B9D,GAAOX,MAAMsH,SAAW,CAAE9C,IAAAA,EAAKC,IAAAA,GAAO,QAG1C7D,GAAWZ,OAAQ,EAAK,yBAAAuG,EAAA0B,OAAA,GAAA9B,EAAA,mLAC3B,gBAnDc+B,EAAAC,GAAA,OAAAnC,EAAAoC,MAAA,KAAAC,UAAA,KAqDTC,GAAqB,WACnBC,UAAUC,YACVD,UAAUC,YAAYC,oBAAmB,SAACnB,GACtC,IAAAoB,EAAgCpB,EAASqB,OAAjChG,EAAQ+F,EAAR/F,SAAUC,EAAS8F,EAAT9F,UACdiD,GAAUlD,EAAUC,GACpBkD,QAAQC,IAAI,gBAAiB,CAAEvB,IAAK7B,EAAU8B,IAAK7B,KAElC,IAAIuC,OAAOC,KAAKwC,UACxBC,QAAQ,CAAEtD,SAAU,CAAEC,IAAK7B,EAAU8B,IAAK7B,KAAe,SAACkF,EAASC,GACzD,OAAXA,GAAmBD,EAAQ,KAC3BhC,QAAQC,IAAI,uBAAwB+B,EAAQ,IAC5CjH,GAAab,MAAQ8H,EAAQ,GAC7BzD,KACA9D,GAAkBP,MAAMA,MAAQ8H,EAAQ,GAAG/C,kBAEnD,GACJ,IACA,SAAC6D,GACG9C,QAAQ8C,MAAM,mBAAoBA,EACtC,IAGJC,MAAM,6CAEd,EAEMC,GAAU,WACRnJ,GAAM0B,MAAMsB,UAAYhD,GAAM0B,MAAMuB,WAEpCmG,YAAW,WACPlD,GAAUlG,GAAM0B,MAAMsB,SAAShD,GAAM0B,MAAMuB,WAC3ChC,GAAWZ,OAAQ,CACvB,GAAG,IAGX,SAuBAgJ,EAAAA,EAAAA,YAAU,WAnBC,IAAIC,SAAQ,SAACC,EAASC,GAC7B,GAAIC,OAAOjE,OACP+D,EAAQE,OAAOjE,QAEf2D,SACG,CACH,IAAMO,EAASC,SAASC,cAAc,UACtCF,EAAOG,IAAM,+CAAHrF,OAAkD/D,GAAc,4BAC1EiJ,EAAOI,OAAQ,EACfJ,EAAOK,OAAS,kBAAMR,EAAQE,OAAOjE,OAAO,EAC5CkE,EAAOM,QAAU,SAACf,GAAK,OAAKO,EAAOP,EAAM,EACzCS,EAAOK,OAAS1E,GAChBsE,SAASM,KAAKC,YAAYR,GAC1BP,IACJ,CACA,IAMmB,OAAO,SAACF,GACvB9C,QAAQ8C,MAAM,2CAA4CA,EAC9D,IAEAkB,EAAAA,GAASC,KAAK,kBAAmB,CACjC,EAGJ,m2dAtK2BC,SACvB9I,GAAKiC,cAAc8G,OAAOD,EAAM,GADV,IAACA,8zKCzY3B,+SC0FA,IAAMrK,EAAQC,EA4BRsK,GAAUhK,EAAAA,EAAAA,MAAI,GACdiK,GAAOjK,EAAAA,EAAAA,KAAI,IACXkK,GAAQlK,EAAAA,EAAAA,KAAI,IACZmK,GAAgBnK,EAAAA,EAAAA,KAAI,MACpBoK,GAAUpK,EAAAA,EAAAA,MAAI,GAEdqK,GAAgBrK,EAAAA,EAAAA,KAAI,IAEpBsK,EAAc,SAACxG,GAEjB,IAAMyG,EAA4BC,EAAiC1G,EAAM/C,IAErEtB,EAAMgL,SAEFF,GAA6B,EAE7BF,EAAcvK,MAAMiK,OAAOQ,EAA2B,GAItDF,EAAcvK,MAAM4K,KAAK5G,GAU7BuG,EAAcvK,MAFdyK,GAA6B,EAEP,GAIA,CAACzG,EAI/B,EAEM0G,EAAmC,SAACG,GACtC,OAAON,EAAcvK,MAAM8K,WAAU,SAACC,GAAG,OAAKA,EAAI9J,KAAO4J,CAAO,GACpE,EAEMG,GAASC,EAAAA,EAAAA,UAAS,CACpBC,OAAO,GACPC,SAASxL,EAAMwL,WAGbC,EAAe,SAACC,GAElBf,EAAQtK,OAAQ,EAEhBsL,MAAMD,EAAI,CACNE,QAAS,CACL,OAAU,sBAEfC,MAAK,SAAUC,GACd,OAAOA,EAASC,MACpB,IAAGF,MAAK,SAACE,GACLvB,EAAKnK,MAAQ,GAAHmE,OAAAC,EAAO+F,EAAKnK,OAAKoE,EAAKsH,EAAKvB,OACrCC,EAAMpK,MAAQ0L,EAAKtB,MACnBC,EAAcrK,MAAQ0L,EAAKrB,cAAcsB,QAAQD,EAAKE,KAAK,sBAC3DtB,EAAQtK,OAAQ,CACpB,IAAE,OAAO,SAAC4I,GACN9C,QAAQC,IAAI,SAAU6C,GACtB0B,EAAQtK,OAAQ,CACpB,GAEJ,EAEM6L,EAAO,WAETT,EAAavH,MAAM,qBAAqB,IAAIiI,IAAAA,UAAad,GAE7D,EAEMe,EAAO,WACTf,EAAOE,OAAS,GAChBf,EAAKnK,MAAQ,GACbuK,EAAcvK,MAAQ,EAE1B,EAEMgM,EAAgB,WAElBhB,EAAOE,OAAS,GAChBf,EAAKnK,MAAQ,GACboL,EAAavH,MAAM,qBAAqB,IAAIiI,IAAAA,UAAad,GAE7D,SAGAiB,EAAAA,EAAAA,QAAM,iBAAO,CAACjB,EAAOE,OAAO,GAAGgB,KAAS,WAEpC/B,EAAKnK,MAAQ,GACbuK,EAAcvK,MAAQ,GACtBoL,EAAavH,MAAM,qBAAqB,IAAIiI,IAAAA,UAAad,GAE7D,GAAE,k2GCzNF,isCCAA,qKCyBA,IAAMrL,EAAQC,EAeRuM,GAAgBjM,EAAAA,EAAAA,MAAI,GACpBkM,GAAUlM,EAAAA,EAAAA,KAAI,MAcdmM,EAAe,WAEjB,GAAqB,OAAlBD,EAAQpM,MAAgB,CAEvB,IAAIsM,EAAiB,IAAIC,EAAAA,EAASH,EAAQpM,MAAO,CAC7CwM,IAAI3I,MAAM,qBACV4I,gBAAgB,EAChBC,gBAAe,EACfC,YAAY,IACZC,SAAS,GACTC,UAAU,QACVtB,QAAQ,CACJ,gBAAgBlL,EAAAA,EAAAA,MAAUV,MAAMmN,YAEpCC,gBAAgB,EAChBC,OAAQ,SAASC,EAAMC,GACF,WAAbD,EAAK3L,KACL4L,EAAK,oBAELA,GAER,IAGAvN,EAAMqN,SACNV,EAAea,QAAQC,cAAgBzN,EAAMqN,OAAO,KAGxDV,EAAee,GAAG,iBAAgB,WAtCtClB,EAAcnM,OAAQ,EAEJ,SAAdL,EAAM2N,KACN3N,EAAM4N,aAENC,EAAAA,GAAOC,IAAI5J,MAAM,qBAmCjB,GAEJ,CACJ","sources":["webpack:///./resources/js/Components/IconByExt.vue","webpack:///./resources/js/Components/OptionType.vue?ad7f","webpack:///./resources/js/Components/OptionType.vue","webpack:///./resources/js/Pages/Photo/Edit.vue?b980","webpack:///./resources/js/Pages/Photo/Edit.vue","webpack:///./resources/js/Pages/UserMediaLibrary/PopupMediaLibrary.vue?193d","webpack:///./resources/js/Pages/UserMediaLibrary/PopupMediaLibrary.vue","webpack:///./resources/js/Pages/UserMediaLibrary/PopupMediaPreview.vue","webpack:///./resources/js/Pages/UserMediaLibrary/UploadFilesDropzone.vue?733e","webpack:///./resources/js/Pages/UserMediaLibrary/UploadFilesDropzone.vue"],"sourcesContent":["import script from \"./IconByExt.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./IconByExt.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./OptionType.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./OptionType.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n\n    <InputText v-if=\"props.option.option_type == 'input'\" class=\"w-100\" :class=\"{'p-invalid':props.errorClass}\" :value=\"modelValue\" @input=\"setNewValue($event.target.value)\"/>\n    <InputText v-if=\"props.option.option_type == 'vimeo'\" class=\"w-100\" :class=\"{'p-invalid':props.errorClass}\" :value=\"modelValue\" @input=\"setNewValue($event.target.value)\"/>\n    <InputText v-if=\"props.option.option_type == 'youtube'\" class=\"w-100\" :class=\"{'p-invalid':props.errorClass}\" :value=\"modelValue\" @input=\"setNewValue($event.target.value)\"/>\n    <InputNumber v-if=\"props.option.option_type == 'number'\" :useGrouping=\"false\" :class=\"{'p-invalid':props.errorClass}\" :value=\"modelValue\" @input=\"setNewValue($event.target.value)\" />\n\n    <div v-if=\"props.option.option_type == 'textarea'\">\n        <Textarea autoResize rows=\"1\" cols=\"30\" class=\"w-100\" :class=\"{'p-invalid':props.errorClass}\" :value=\"modelValue\" @input=\"setNewValue($event.target.value)\" />\n    </div>\n    \n</template>\n\n<script setup>\n\n    import { ref } from 'vue';\n    import InputText from \"primevue/inputtext\";\n    import InputNumber from \"primevue/inputnumber\";\n    import Textarea from 'primevue/textarea';\n    import Dropdown from \"primevue/dropdown\"\n\n    const props = defineProps({\n        option:Object,\n        modelValue:[String,Object,Number],\n        errorClass:{\n            type:Boolean,\n            default:false\n        }\n    });\n\n    const emit = defineEmits(['update:modelValue']);\n    const setNewValue = (value) => {\n        emit('update:modelValue',value)\n    }\n\n</script>","import script from \"./Edit.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Edit.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    <Head head-key=\"title\" title=\"Fotoğraf Düzenle / Onayla\" />\n\n    <div id=\"kt_app_toolbar\" class=\"app-toolbar py-3 py-lg-6\">\n        <div id=\"kt_app_toolbar_container\" class=\"app-container container-fluid d-flex flex-stack\">\n            \n            <div  class=\"page-title d-flex flex-column justify-content-center flex-wrap me-3\">\n                <h1 class=\"page-heading d-flex text-dark fw-bold fs-3 flex-column justify-content-center my-0\">\n                    <span class=\"d-flex align-items-center\">Fotoğraf Düzenle / Onayla</span>\n                </h1>\n            </div>\n\n            <div class=\"d-flex align-items-center gap-2 gap-lg-3\">\n                <Link :href=\"route('photos.index',{language:$page.props.current_language})\" class=\"btn fw-bold btn-sm btn-secondary d-flex align-items-center\">\n                    <i class=\"bi bi-arrow-left fs-4\"></i>\n                    <span class=\"ms-1 lh-1\">Geri</span>\n                </Link>\n            </div>\n\n        </div>\n    </div>\n\t\n    <div id=\"kt_app_content\" class=\"app-content flex-column-fluid\">\n        <div id=\"kt_app_content_container\" class=\"app-container container-fluid\">\n            \n            <FormErrors :form=\"form\"/>\n\n            <form @submit.prevent=\"update\">\n\n                <div class=\"row g-5 g-xl-10\">\n                    <div class=\"col-xl-9\">\n                        <div class=\"card mb-5 mb-xl-10\">\n                            <div class=\"card-body\">\n\n                                <h5 class=\"card-title text-muted\">Genel Bilgiler</h5>\n                                <Divider class=\"mb-10\"/>\n\n                                <div class=\"row align-items-center mb-5\">\n                                    <label class=\"col-lg-5 fw-bold text-uppercase\">Çekim Tarihi</label>\n                                    <div class=\"col-md-7\">\n                                        <div class=\"vstack gap-1\">\n                                            <Calendar v-model=\"form.shooting_date\" showTime hourFormat=\"24\" :class=\"{'p-invalid':form.errors.shooting_date}\"/>\n                                            <small class=\"text-danger\" v-if=\"form.errors.shooting_date\">Lütfen çekim tarihini seçiniz.</small>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <Divider />\n\n                                <div class=\"row align-items-center mt-5\">\n                                    <label class=\"col-lg-5 fw-bold text-uppercase\">Yerel Adı</label>\n                                    <div class=\"col-md-7\">\n                                        <InputText class=\"w-100\" v-model=\"form.name\"/>\n                                    </div>\n                                </div>\n\n                                <Divider />\n\n                                <div class=\"row align-items-center mb-5\">\n                                    <label class=\"col-lg-5 fw-bold text-uppercase\">Kategori</label>\n                                    <div class=\"col-md-7\">\n                                        <Dropdown filter showClear v-model=\"form.photo_category_id\" :options=\"props.photo_categories\" optionValue=\"id\" optionLabel=\"name\" class=\"w-100\"/>\n                                    </div>\n                                </div>\n\n                                <Divider />\n\n                                <div v-if=\"form.photo_category_id\">\n                                    <div class=\"row align-items-center mb-5\">\n                                        <label class=\"col-lg-5 fw-bold text-uppercase\">Alt Kategori</label>\n                                        <div class=\"col-md-7\">\n                                            <Dropdown filter showClear v-model=\"form.photo_sub_category_id\" :options=\"props.photo_sub_categories.filter((x) => x.photo_category_id === form.photo_category_id)\" optionValue=\"id\" optionLabel=\"name\" class=\"w-100\"/>\n                                        </div>\n                                    </div>\n                                    <Divider />\n                                </div>\n\n                                <div v-if=\"form.photo_category_id && form.photo_sub_category_id\">\n                                    <div class=\"row align-items-center mb-5\">\n                                        <label class=\"col-lg-5 fw-bold text-uppercase\">Aile</label>\n                                        <div class=\"col-md-7\">\n                                            <Dropdown filter showClear v-model=\"form.photo_family_id\" :options=\"props.photo_families.filter((x) => x.photo_sub_category_id === form.photo_sub_category_id)\" optionValue=\"id\" optionLabel=\"name\" class=\"w-100\"/>\n                                        </div>\n                                    </div>\n                                    <Divider />\n                                </div>\n\n                                <div v-if=\"form.photo_category_id && form.photo_sub_category_id && form.photo_family_id\">\n                                    <div class=\"row align-items-center mb-5\">\n                                        <label class=\"col-lg-5 fw-bold text-uppercase\">Tür</label>\n                                        <div class=\"col-md-7\">\n                                            <Dropdown filter showClear v-model=\"form.photo_type_id\" :options=\"props.photo_types.filter((x) => x.photo_family_id === form.photo_family_id)\" optionValue=\"id\" optionLabel=\"name\" class=\"w-100\"/>\n                                        </div>\n                                    </div>\n                                    <Divider />\n                                </div>\n\n                                <div class=\"row align-items-center mt-5\">\n                                    <label class=\"col-lg-5 fw-bold text-uppercase\">Derinlik</label>\n                                    <div class=\"col-md-7\">\n                                        <InputGroup>\n                                            <InputGroupAddon>\n                                                <span>m</span>\n                                            </InputGroupAddon>\n                                            <InputNumber class=\"w-100\" v-model=\"form.depth\" inputId=\"photoDepth\" :useGrouping=\"false\" :class=\"{'p-invalid':form.errors.depth}\"/>\n                                        </InputGroup>\n                                        <small class=\"text-danger\" v-if=\"form.errors.depth\">Lütfen derinlik değerini giriniz.</small>\n                                    </div>\n                                </div>\n\n                                <Divider />\n\n                                <div class=\"row align-items-center mt-5\">\n                                    <label class=\"col-lg-5 fw-bold text-uppercase\">Sıcaklık</label>\n                                    <div class=\"col-md-7\">\n                                        <InputGroup>\n                                            <InputGroupAddon>\n                                                <span>°C</span>\n                                            </InputGroupAddon>\n                                            <InputNumber class=\"w-100\" v-model=\"form.heat\" inputId=\"photoHeat\" :useGrouping=\"false\" :class=\"{'p-invalid':form.errors.heat}\"/>\n                                        </InputGroup>\n                                        <small class=\"text-danger\" v-if=\"form.errors.heat\">Lütfen sıcaklık değerini giriniz.</small>\n                                    </div>\n                                </div>\n\n                                <div v-if=\"props.photo_attributes\">\n                                    <div v-for=\"(attribute, index) in form.attributes\" :key=\"`photo-attribute-${index}`\">\n                                        <Divider />\n                                        <div class=\"row align-items-center\">\n                                            <label class=\"col-lg-5 fw-bold text-uppercase\">{{ attribute.name }}</label>\n                                            <div class=\"col-md-7\">\n\n                                                <InputMask mask=\"99:99\" v-if=\"attribute.option_type == 'time'\" v-model=\"attribute.value\" :class=\"{'p-invalid':form.errors[`attributes.${index}.value`]}\"/>\n\n                                                <InputMask mask=\"99.99.9999\" placeholder=\"GG.AA.YYYY\" v-if=\"attribute.option_type == 'date'\" v-model=\"attribute.value\" :class=\"{'p-invalid':form.errors[`attributes.${index}.value`]}\"/>\n\n                                                <InputMask mask=\"99.99.9999 99:99\" placeholder=\"GG.AA.YYYY HH:SS\" v-if=\"attribute.option_type == 'datetime'\" v-model=\"attribute.value\" :class=\"{'p-invalid':form.errors[`attributes.${index}.value`]}\"/>\n\n                                                <Dropdown filter showClear v-if=\"attribute.option_type == 'select'\" v-model=\"attribute.value\" :options=\"attribute.values\" optionLabel=\"name\" optionValue=\"name\" placeholder=\"Lütfen seçiniz\" class=\"w-100\" :class=\"{'p-invalid':form.errors[`attributes.${index}.value`]}\"/>\n\n                                                <MultiSelect filter showClear v-if=\"attribute.option_type == 'multiselect'\" v-model=\"attribute.value\" :options=\"attribute.values\" optionLabel=\"name\" optionValue=\"name\" placeholder=\"Lütfen seçiniz\" :class=\"{'p-invalid':form.errors[`attributes.${index}.value`]}\"/>\n\n                                                <div class=\"d-flex flex-row flex-wrap align-items-center\" v-if=\"attribute.option_type == 'image'\">\n                                                    <img :src=\"attribute.value\" v-if=\"attribute.value\" class=\"img-thumbnail\" width=\"100\"/>\n                                                    <div class=\"d-flex flex-row align-items-center\">\n                                                        <PopupMediaLibrary v-if=\"!attribute.value\" :on-select=\"setAttributeMedia\" :form-model=\"attribute\" :button-text=\"'Seç'\" :mime-type=\"'image/'\" :key=\"Math.floor(Math.random() * 100000)\"/>\n                                                        <button type=\"button\" class=\"btn btn-sm btn-light-danger btn-icon ms-2\" v-if=\"attribute.value\" @click=\"attribute.value = null\">\n                                                            <i class=\"bi bi-x fs-3\"></i>\n                                                        </button>\n                                                    </div>\n                                                </div>\n\n                                                <OptionType :option=\"attribute\" v-model=\"attribute.value\" v-else :error-class=\"form.errors[`attributes.${index}.value`] ? true : false\"/>\n\n                                                <small class=\"text-danger\" v-if=\"form.errors[`attributes.${index}.value`]\">{{ `${attribute.name} boş bırakılamaz.` }}</small>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <Divider />\n\n                                <div class=\"row align-items-center mt-5\">\n                                    <label class=\"col-lg-5 fw-bold text-uppercase\">Detaylar</label>\n                                    <div class=\"col-md-7\">\n                                        <Textarea autoResize rows=\"3\" cols=\"30\" class=\"w-100\" v-model=\"form.summary\"/>\n                                    </div>\n                                </div>\n\n                                <Divider />\n\n                                <div class=\"row align-items-center mt-5\">\n                                    <label class=\"col-lg-5 fw-bold text-uppercase\">Konum Bilgileri</label>\n                                    <div class=\"col-md-7\">\n                                        <div class=\"d-flex align-items-center gap-3\">\n                                            <div class=\"d-flex flex-grow-1\">\n                                                <input type=\"text\" ref=\"autocompleteInput\" placeholder=\"Adres giriniz...\" class=\"p-inputtext p-component w-100\" :class=\"{'p-invalid':form.errors.latitude}\"/>\n                                            </div>\n                                            <button type=\"button\" @click=\"useCurrentLocation\" v-tooltip.top=\"'Mevcut Konumumu Kullan'\" class=\"btn btn-icon btn-light-danger\"><i class=\"bi bi-crosshair\"></i></button>\n                                        </div>\n                                        <div v-show=\"mapVisible\" class=\"h-300px w-100 mt-5\" ref=\"mapContainer\"></div>\n                                        <small class=\"text-danger\" v-if=\"form.errors.latitude\">Lütfen konum bilgilerini giriniz.</small>\n                                    </div>\n                                </div>\n\n                            </div>\n                        </div>\n                    </div>\n                    <div class=\"col-xl-3\">\n                        <div class=\"card mb-5 mb-xl-10\">\n                            <div class=\"card-body\">\n\n                                <h5 class=\"card-title\" :class=\"{'text-muted':!form.errors.mainImage,'text-danger':form.errors.mainImage}\">Ana Görsel</h5>\n                                <Divider class=\"mb-5\"/>\n                                <div class=\"mb-5 mb-xl-10\">\n                                    <div class=\"overlay overflow-hidden rounded\" v-if=\"form.mainImage\">\n                                        <div class=\"overlay-wrapper rounded\">\n                                            <img :src=\"form.mainImage.original_url\" class=\"img-fluid rounded\" />\n                                        </div>\n                                        <div class=\"overlay-layer bg-dark bg-opacity-25\">\n                                            <button type=\"button\" class=\"btn btn-sm btn-light-danger btn-icon me-2\" v-if=\"form.mainImage\" @click=\"form.mainImage = null\">\n                                                <i class=\"bi bi-x fs-3\"></i>\n                                            </button>\n                                            <a class=\"btn btn-sm btn-light-primary btn-icon\" data-fancybox=\"gallery\" :href=\"form.mainImage.original_url\">\n                                                <i class=\"bi bi-eye fs-3\"></i>\n                                            </a>\n                                        </div>\n                                    </div>\n                                    <PopupMediaLibrary v-if=\"!form.mainImage\" :on-select=\"setMainImage\" :button-text=\"'Seç'\" :mime-type=\"'image/'\" :key=\"Math.floor(Math.random() * 100000)\"/>\n                                    <small class=\"text-danger\" v-if=\"form.errors.mainImage\">Lütfen ana görseli seçiniz.</small>\n                                </div>\n\n                                <h5 class=\"card-title text-muted\">Diğer Görseller</h5>\n                                <Divider class=\"mb-5\"/>\n                                <div class=\"mb-5 mb-xl-10\">\n                                    <div v-if=\"form.galleryImages\">\n                                        <div class=\"row g-3 row-cols-3 mb-5\">\n                                            <div class=\"col\" v-for=\"(media,m) in form.galleryImages\" :key=\"m\">\n                                                <div class=\"overlay overflow-hidden rounded\">\n                                                    <div class=\"overlay-wrapper\">\n                                                        <img :src=\"media.preview_url\" class=\"img-fluid rounded cursor-pointer\" />\n                                                    </div>\n                                                    <div class=\"overlay-layer bg-dark bg-opacity-25\">\n                                                        <button type=\"button\" class=\"btn btn-light-danger btn-sm btn-icon\" @click=\"removeFromGallery(m)\"><i class=\"bi bi-x fs-3\"></i></button>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <PopupMediaLibrary :on-select=\"setGalleryImages\" :multiple=\"true\" :button-text=\"'Görselleri Seç'\" :mime-type=\"'image/'\" :key=\"Math.floor(Math.random() * 100000)\"/>\n                                </div>\n\n                                <h5 class=\"card-title text-muted\">Youtube Video</h5>\n                                <Divider class=\"mb-5\"/>\n                                <div class=\"mb-5 pb-5 border-bottom hstack gap-2\" v-if=\"form.youtube_id\">\n                                    <button type=\"button\" class=\"btn btn-sm btn-light-danger btn-icon me-2\" v-if=\"form.youtube_id\" @click=\"form.youtube_id = null\">\n                                        <i class=\"bi bi-x fs-3\"></i>\n                                    </button>\n                                    <a class=\"btn btn-sm btn-light-primary btn-icon\" target=\"_blank\" :href=\"form.youtube_id\">\n                                        <i class=\"bi bi-eye fs-3\"></i>\n                                    </a>\n                                </div>\n                                <div class=\"vstack gap-1\">\n                                    <InputText v-model=\"form.youtube_id\" class=\"w-100\"/>\n                                </div>\n\n                            </div>\n                        </div>\n\n                        <div class=\"card mb-5 mb-xl-10\" v-if=\"$page.props.auth.user.is_superadmin || $page.props.auth.user.permissions.includes('approve-Photo')\">\n                            <div class=\"card-body\">\n\n                                <h5 class=\"card-title text-muted\">Onay & Diğer</h5>\n                                <Divider class=\"mb-5\"/>\n\n                                <div class=\"d-flex flex-column\">\n                                    <div v-if=\"$page.props.auth.user.is_superadmin || $page.props.auth.user.permissions.includes('approve-Photo')\">\n                                        <div class=\"d-flex flex-column\">\n                                            <label class=\"form-label\">Onay Durumu</label>\n                                            <Dropdown v-model=\"form.approval_status\" :options=\"approval_statuses\" optionLabel=\"label\" optionValue=\"value\" class=\"w-100\" />\n                                        </div>\n                                        <div class=\"d-flex flex-column mt-4\" v-if=\"form.approval_status == 2\">\n                                            <label class=\"form-label\">İptal Sebebi</label>\n                                            <Textarea v-model=\"form.not_approve_reason\" autoResize rows=\"3\" cols=\"30\" class=\"w-100\" />\n                                        </div>\n                                        <Divider />\n                                    </div>\n                                    <div class=\"d-flex flex-row align-items-center\">\n                                        <InputSwitch v-model=\"form.usable_for_science\" />\n                                        <label class=\"ms-2 fw-bold\">Bilimsel olarak kullanılabilir</label>\n                                    </div>\n                                    <div v-if=\"$page.props.auth.user.is_superadmin || $page.props.auth.user.permissions.includes('publish-Photo')\">\n                                        <Divider />\n                                        <div class=\"d-flex flex-row align-items-center\">\n                                            <InputSwitch v-model=\"form.is_published\" />\n                                            <label class=\"ms-2 fw-bold\">Yayınla</label>\n                                        </div>\n                                    </div>\n                                </div>\n\n                            </div>\n                        </div>\n\n                        <button type=\"submit\" class=\"btn btn-primary\" :class=\"{ 'opacity-25': form.processing || !form.isDirty }\" :disabled=\"form.processing || !form.isDirty\">Kaydet</button>\n                    </div>\n                </div>\n\n            </form>\n        </div>\n    </div>\n    \n</template>\n\n<script setup>\n\nimport {ref,shallowRef,onMounted, nextTick} from \"vue\";\nimport { useForm, usePage } from \"@inertiajs/vue3\";\nimport Divider from \"primevue/divider\";\nimport InputText from \"primevue/inputtext\";\nimport MultiSelect from \"primevue/multiselect\";\nimport Dropdown from \"primevue/dropdown\";\nimport Calendar from \"primevue/calendar\";\nimport PopupMediaLibrary from \"../UserMediaLibrary/PopupMediaLibrary\";\nimport OptionType from \"../../Components/OptionType\";\nimport InputMask from \"primevue/inputmask\";\nimport InputNumber from \"primevue/inputnumber\";\nimport InputGroup from 'primevue/inputgroup';\nimport InputGroupAddon from 'primevue/inputgroupaddon';\nimport Textarea from \"primevue/textarea\";\nimport InputSwitch from \"primevue/inputswitch\";\n\nimport { Fancybox } from \"@fancyapps/ui\";\nimport \"@fancyapps/ui/dist/fancybox/fancybox.css\";\n\nconst props = defineProps({\n    photo_categories:Object,\n    photo_sub_categories:Object,\n    photo_families:Object,\n    photo_types:Object,\n    photo_attributes:Object,\n    photo:Object\n});\n\nconst editor = ref(null);\n\nconst approval_statuses = ref([\n    {\n        label:'Yeni',\n        value:0\n    },\n    {\n        label:'Onaylandı',\n        value:1\n    },\n    {\n        label:'İptal',\n        value:2\n    }\n]);\n\nlet curr_language = usePage().props.current_language;\nlet google_api_key = usePage().props.google_api_key;\n\nconst autocompleteInput = ref(null);\nconst mapContainer = ref(null);\nconst map = shallowRef(null);\nconst marker = ref(null);\nconst mapVisible = ref(false);\nconst placeDetails = ref(null);\n\nconst photoAttributeIds = props.photo_attributes.map((x) => {\n    return x.id;\n});\n\nconst form = useForm({\n    language:props.photo.language,\n    name:props.photo.name,\n    summary:props.photo.summary,\n    shooting_date: new Date(props.photo.shooting_date),\n    photo_category_id:props.photo.photo_type?.photo_family?.photo_sub_category?.photo_category?.id,\n    photo_sub_category_id:props.photo.photo_type?.photo_family?.photo_sub_category?.id,\n    photo_family_id:props.photo.photo_type?.photo_family?.id,\n    photo_type_id:props.photo.photo_type_id,\n    attributes:props.photo.attributes.filter((x) => photoAttributeIds.includes(x.id)),\n    depth:props.photo.depth,\n    heat:props.photo.heat,\n    coordinates:props.photo.coordinates,\n    latitude:props.photo.latitude,\n    longitude:props.photo.longitude,\n    country:props.photo.country,\n    city:props.photo.city,\n    county:props.photo.county,\n    address:props.photo.address,\n    mainImage:props.photo.main_image,\n    galleryImages:props.photo.gallery_images ?? [],\n    approval_status:props.photo.approval_status,\n    is_published:props.photo.is_published,\n    usable_for_science:props.photo.usable_for_science,\n    not_approve_reason:props.photo.not_approve_reason,\n    youtube_id:props.photo.youtube_id\n});\n\nconst update = () => {\n    form.put(route('photos.update',props.photo),{\n        onSuccess: () => {\n            \n        },\n    });\n}\n\nconst setMainImage = (media) => {\n    form.mainImage = media;\n}\n\nconst setGalleryImages = (medias) => {\n    form.galleryImages = [...form.galleryImages, ...medias];\n}\n\nconst removeFromGallery = (index) => {\n    form.galleryImages.splice(index,1);\n}\n\n\nconst updateFormGoogleFields = () => {\n\n    form.latitude = placeDetails.value.geometry.location.lat();\n    form.longitude = placeDetails.value.geometry.location.lng();\n\n    placeDetails.value.address_components.forEach(component => {\n        if (component.types.includes(\"country\")) {\n            form.country = component.long_name;\n        }\n        if (component.types.includes(\"administrative_area_level_1\")) {\n            form.city = component.long_name;\n        }\n        if (component.types.includes(\"administrative_area_level_2\")) {\n            form.county = component.long_name;\n        }\n    });\n\n    form.address = placeDetails.value.formatted_address;\n\n}\n\nconst initializeAutocomplete = () => {\n    const input = autocompleteInput.value;\n    const autocomplete = new google.maps.places.Autocomplete(input, {\n        componentRestrictions: { country: \"tr\" }, // Sadece Türkiye\n        fields: [\"geometry\", \"formatted_address\", \"address_components\"],\n    });\n\n    autocomplete.addListener(\"place_changed\", () => {\n    const place = autocomplete.getPlace();\n    if (place.geometry) {\n        const { lat, lng } = place.geometry.location;\n        updateMap(lat(), lng());\n        placeDetails.value = place;\n        updateFormGoogleFields();\n        console.log(\"Seçilen yer detayları:\", place);\n    }\n    });\n};\n\nconst updateMap = async (lat, lng) => {\n    // DOM'un hazır olduğundan emin olun\n    await nextTick();\n\n    if (!map.value) {\n        // Harita oluşturma\n        map.value = new google.maps.Map(mapContainer.value, {\n            center: { lat, lng },\n            zoom: 13,\n            panControl: false,\n            mapTypeControl: false,\n            scaleControl: false,\n            streetViewControl: false,\n            rotateControl: false,\n            mapId:'24a6df6e5eacbfee'\n        });\n\n        // Marker oluşturma\n\n        const { AdvancedMarkerElement } = await google.maps.importLibrary(\"marker\");\n        marker.value = new AdvancedMarkerElement({\n            position: { lat, lng },\n            map: map.value,\n            gmpDraggable: true,\n        });\n\n        // Marker taşındığında olay\n        marker.value.addListener(\"dragend\", (event) => {\n            const newLat = event.latLng.lat();\n            const newLng = event.latLng.lng();\n            console.log(\"Yeni koordinatlar:\", { lat: newLat, lng: newLng });\n\n            // Yeni konum detaylarını al\n            const geocoder = new google.maps.Geocoder();\n            geocoder.geocode({ location: { lat: newLat, lng: newLng } }, (results, status) => {\n                if (status === \"OK\" && results[0]) {\n                    console.log(\"Yeni yer detayları:\", results[0]);\n                    placeDetails.value = results[0];\n                    updateFormGoogleFields();\n                    autocompleteInput.value.value = results[0].formatted_address\n                }\n            });\n        });\n\n    } else {\n        // Harita ve marker güncelleme\n        map.value.setCenter({ lat, lng });\n        marker.value.position = { lat, lng }; // Yeni pozisyonu güncelle\n    }\n\n    mapVisible.value = true;\n};\n\nconst useCurrentLocation = () => {\n    if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition((position) => {\n            const { latitude, longitude } = position.coords;\n                updateMap(latitude, longitude);\n                console.log(\"Mevcut konum:\", { lat: latitude, lng: longitude });\n                // Adresi al ve input'a yaz\n                const geocoder = new google.maps.Geocoder();\n                geocoder.geocode({ location: { lat: latitude, lng: longitude } }, (results, status) => {\n                    if (status === \"OK\" && results[0]) {\n                        console.log(\"Mevcut konum adresi:\", results[0]);\n                        placeDetails.value = results[0];\n                        updateFormGoogleFields();\n                        autocompleteInput.value.value = results[0].formatted_address; // Input alanına adres yaz\n                    }\n                });\n            },\n            (error) => {\n                console.error(\"Konum alınamadı:\", error);\n            }\n        );\n    } else {\n        alert(\"Tarayıcınız konum servisini desteklemiyor.\");\n    }\n};\n\nconst initMap = () => {\n    if( props.photo.latitude && props.photo.longitude ){\n\n        setTimeout(() => {\n            updateMap(props.photo.latitude,props.photo.longitude);\n            mapVisible.value = true;\n        }, 1000);\n\n    }\n}\n\n// Google Maps API'yi dinamik olarak yükleme fonksiyonu\nconst loadGoogleMapsAPI = () => {\n    return new Promise((resolve, reject) => {\n    if (window.google) {\n        resolve(window.google);\n        initializeAutocomplete;\n        initMap();\n    } else {\n        const script = document.createElement('script');\n        script.src = `https://maps.googleapis.com/maps/api/js?key=${google_api_key}&libraries=places,marker`;\n        script.async = true;\n        script.onload = () => resolve(window.google);\n        script.onerror = (error) => reject(error);\n        script.onload = initializeAutocomplete;\n        document.head.appendChild(script);\n        initMap();\n    }\n    });\n};\n\n\nonMounted(() => {\n\n    loadGoogleMapsAPI().catch((error) => {\n        console.error(\"Google Maps API yüklenirken hata oluştu:\", error);\n    });\n\n    Fancybox.bind('[data-fancybox]', {\n    //\n    });\n\n});\n\n</script>","import script from \"./PopupMediaLibrary.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PopupMediaLibrary.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    \n    <div>\n        <button type=\"button\" class=\"btn btn-sm btn-light-primary\" @click=\"visible=true\">{{ props.buttonText }}</button>\n        <Dialog v-model:visible=\"visible\" modal header=\"Medya Kütüphanesi\" class=\"p-dialog-fullscreen\" @show=\"show\" @hide=\"hide\">\n\n            <div class=\"d-flex flex-column h-100\">\n\n                <div class=\"d-flex flex-row justify-content-between\">\n                    <input type=\"text\" class=\"form-control form-control-solid w-200px\" placeholder=\"Ara...\" v-model=\"params.search\">\n                    <UploadFilesDropzone :upload-done=\"newFilesAdded\" :from=\"'popup'\" :accept=\"props.mimeType\"/>\n                </div>\n\n                <Divider />\n\n                <div class=\"row g-4 g-lg-10\">\n\n                    <div class=\"col-6 col-xl-8 col-xxl-9\">\n                        <div class=\"d-flex flex-row flex-wrap gap-4 mb-10 mb-lg-0 justify-content-around\">\n\n                            <PopupMediaPreview \n                                v-for=\"(media,index) in data\" \n                                :key=\"index\"\n                                :media=\"media\"\n                                @click=\"mediaSelect(media)\" :active-class=\"getClickItemIndexInSelectedFiles(media.id) > -1 ? 'bg-opacity-60 bg-dark p-2 text-white' : ''\"\n                            />\n\n                            <Divider />\n\n                            <div>\n                                <button type=\"button\" class=\"btn btn-primary\" @click=\"getMediaData(next_page_url)\" v-if=\"next_page_url\" :class=\"{'opacity-25':loading}\" :disabled=\"loading\">Daha fazla...</button>\n                            </div>\n\n                        </div>\n                    </div>\n\n                    <div class=\"col-lg-6 col-xl-4 col-xxl-3\">\n\n                        <div class=\"bg-light p-5 border sticky-top h-100\">\n\n                            <div v-if=\"selectedFiles.length && !multiple\">\n                            \n                                <img :src=\"selectedFiles[0].original_url\" class=\"img-fluid rounded mb-5 bg-opacity-25 bg-dark p-1\" />\n\n                                <div>\n                                    <button type=\"button\" class=\"btn btn-primary btn-sm\" @click=\"onSelect(selectedFiles[0],props.formModel);visible = false\">Ekle</button>\n                                </div>\n\n                            </div>\n\n                            <div v-if=\"selectedFiles.length && multiple\">\n                                \n                                <div class=\"row g-3 row-cols-3 mb-5\">\n\n                                    <div class=\"col\" v-for=\"(media,m) in selectedFiles\" :key=\"m\">\n                                        <div class=\"overlay overflow-hidden rounded\">\n                                            <div class=\"overlay-wrapper\">\n                                                <img :src=\"media.preview_url\" class=\"img-fluid rounded cursor-pointer\" />\n                                            </div>\n                                            <div class=\"overlay-layer bg-dark bg-opacity-25\">\n                                                <button type=\"button\" class=\"btn btn-light-danger btn-sm btn-icon\" @click=\"mediaSelect(media)\"><i class=\"bi bi-x fs-3\"></i></button>\n                                            </div>\n                                        </div>\n                                    </div>\n\n                                </div>\n\n                                <div>\n                                    <button type=\"button\" class=\"btn btn-primary btn-sm\" @click=\"onSelect(selectedFiles,props.formModel);visible = false\">Ekle</button>\n                                </div>\n\n                            </div>\n\n                        </div>\n                    </div>\n\n                </div>\n\n            </div>\n\n        </Dialog>\n    </div>\n\n</template>\n\n<script setup>\n\nimport {ref,reactive,watch} from \"vue\";\nimport debounce from \"lodash/debounce\";\nimport Dialog from \"primevue/dialog\";\nimport Divider from 'primevue/divider';\nimport qs from \"qs\";\nimport PopupMediaPreview from \"./PopupMediaPreview\";\nimport UploadFilesDropzone from './UploadFilesDropzone';\n\nconst props = defineProps({\n    multiple:{\n        type:Boolean,\n        default:false\n    },\n    formModel:{\n        type:[String,Object],\n        required:false,\n        default:null\n    },\n    onSelect:{\n        type:Function,\n        required:true\n    },\n    sizeSelection:{\n        type:Boolean,\n        default:true\n    },\n    buttonText:{\n        type:[String],\n        default:\"Seç\"\n    },\n    mimeType:{\n        type:[String],\n        default:\"\"\n    }\n});\n\nconst visible = ref(false);\nconst data = ref([]);\nconst links = ref([]);\nconst next_page_url = ref(null);\nconst loading = ref(false);\n\nconst selectedFiles = ref([]);\n\nconst mediaSelect = (media) => {\n\n    const mediaIndexInSelectedFiles = getClickItemIndexInSelectedFiles(media.id);\n\n    if( props.multiple ){\n\n        if( mediaIndexInSelectedFiles > -1 ){\n\n            selectedFiles.value.splice(mediaIndexInSelectedFiles, 1);\n\n        } else {\n\n            selectedFiles.value.push(media);\n\n        }\n\n        return;\n    }\n\n    //multiple ise buraya girmiyor hic\n    if( mediaIndexInSelectedFiles > -1 ){\n\n        selectedFiles.value = [];\n\n    } else {\n\n        selectedFiles.value = [media];\n\n    }\n    \n}\n\nconst getClickItemIndexInSelectedFiles = (mediaId) => {\n    return selectedFiles.value.findIndex((obj) => obj.id === mediaId);\n}\n\nconst params = reactive({\n    search:\"\",\n    mimeType:props.mimeType\n});\n\nconst getMediaData = (uri) => {\n\n    loading.value = true;\n\n    fetch(uri,{\n        headers: {\n            'Accept': 'application/json',\n        }\n    }).then(function (response) {\n        return response.json();\n    }).then((json) => {\n        data.value = [...data.value, ...json.data,];\n        links.value = json.links;\n        next_page_url.value = json.next_page_url.replace(json.path,\"/admin/user-medias\");\n        loading.value = false;\n    }).catch((error) => {\n        console.log(\"Error:\", error);\n        loading.value = false;\n    });\n    \n}\n\nconst show = () => {\n\n    getMediaData(route('user-medias.index')+'?'+qs.stringify(params));\n\n}\n\nconst hide = () => {\n    params.search = \"\";\n    data.value = [];\n    selectedFiles.value = [];\n\n}\n\nconst newFilesAdded = () => {\n\n    params.search = \"\";\n    data.value = [];\n    getMediaData(route('user-medias.index')+'?'+qs.stringify(params));\n\n}\n\n\nwatch(() => ([params.search]), debounce(function (){\n    \n    data.value = [];\n    selectedFiles.value = [];\n    getMediaData(route('user-medias.index')+'?'+qs.stringify(params));\n\n},500));\n\n\n</script>","import script from \"./PopupMediaPreview.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PopupMediaPreview.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import script from \"./UploadFilesDropzone.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./UploadFilesDropzone.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n    \n    <div>\n        <button type=\"button\" class=\"btn fw-bold btn-sm btn-success d-flex align-items-center\" @click=\"dialogVisible = true\"><i class=\"bi bi-folder-plus fs-3\"></i><span class=\"ms-1 lh-1\">EKLE</span></button>\n\n        <Dialog v-model:visible=\"dialogVisible\" modal header=\"Yeni medya ekle\" @show=\"makeDropzone\" :style=\"{ width: '50vw' }\" :breakpoints=\"{ '960px': '75vw', '641px': '95vw' }\">\n\n            <div ref=\"dropRef\" class=\"dropzone\">\n                <div class=\"dz-message needsclick\">\n                    <i class=\"bi bi-cloud-arrow-up fs-3x text-primary\"></i>\n\n                    <div class=\"ms-4\">\n                        <h3 class=\"fs-5 fw-bold text-gray-900 mb-1\">Drop files here or click to upload.</h3>\n                        <span class=\"fs-7 fw-semibold text-gray-500\">Upload up to 10 files</span>\n                    </div>\n                </div>\n            </div>\n\n        </Dialog>\n    </div>\n\n</template>\n\n<script setup>\n\nimport {ref} from \"vue\";\nimport Dropzone from \"dropzone\";\nimport {usePage, router} from \"@inertiajs/vue3\";\nimport Dialog from \"primevue/dialog\";\n\nconst props = defineProps({\n    uploadDone:{\n        type:Function,\n        required:false\n    },\n    from:{\n        type:String,\n        default:\"page\"\n    },\n    accept:{\n        type:String,\n        default:null\n    }\n});\n\nconst dialogVisible = ref(false);\nconst dropRef = ref(null);\n\nconst onUploadDone = () => {\n\n    dialogVisible.value = false;\n\n    if( props.from == \"popup\" ){\n        props.uploadDone();\n    } else {\n        router.get(route('user-medias.index'));\n    }\n\n};\n\nconst makeDropzone = () => {\n\n    if(dropRef.value !== null) {\n\n        let uploadDropzone = new Dropzone(dropRef.value, {\n            url:route('user-medias.store'),\n            parallelUploads:1,\n            uploadMultiple:true,\n            maxFilesize:100000000,\n            maxFiles:10,\n            paramName:'files',\n            headers:{\n                \"X-CSRF-TOKEN\": usePage().props.csrf_token\n            },\n            addRemoveLinks: true,\n            accept: function(file, done) {\n                if (file.name == \"wow.jpg\") {\n                    done(\"Naha, you don't.\");\n                } else {\n                    done();\n                }\n            },\n        });\n\n        if( props.accept ){\n            uploadDropzone.options.acceptedFiles = props.accept+\"*\"; //dropzone image/* nedense calismiyor buna bakalim.\n        }\n\n        uploadDropzone.on('queuecomplete',function() {\n            onUploadDone();\n        });\n\n    }\n}\n\n</script>"],"names":["props","__props","emit","__emit","setNewValue","value","approval_statuses","ref","label","google_api_key","usePage","current_language","autocompleteInput","mapContainer","map","shallowRef","marker","mapVisible","placeDetails","photoAttributeIds","photo_attributes","x","id","form","useForm","language","photo","name","summary","shooting_date","Date","photo_category_id","_props$photo$photo_ty","photo_type","photo_family","photo_sub_category","photo_category","photo_sub_category_id","_props$photo$photo_ty2","photo_family_id","_props$photo$photo_ty3","photo_type_id","attributes","filter","includes","depth","heat","coordinates","latitude","longitude","country","city","county","address","mainImage","main_image","galleryImages","_props$photo$gallery_","gallery_images","approval_status","is_published","usable_for_science","not_approve_reason","youtube_id","update","put","route","onSuccess","setMainImage","media","setGalleryImages","medias","concat","_toConsumableArray","updateFormGoogleFields","geometry","location","lat","lng","address_components","forEach","component","types","long_name","formatted_address","initializeAutocomplete","input","autocomplete","google","maps","places","Autocomplete","componentRestrictions","fields","addListener","place","getPlace","_place$geometry$locat","updateMap","console","log","_ref","_regeneratorRuntime","mark","_callee","_yield$google$maps$im","AdvancedMarkerElement","wrap","_context","prev","next","nextTick","Map","center","zoom","panControl","mapTypeControl","scaleControl","streetViewControl","rotateControl","mapId","importLibrary","sent","position","gmpDraggable","event","newLat","latLng","newLng","Geocoder","geocode","results","status","setCenter","stop","_x","_x2","apply","arguments","useCurrentLocation","navigator","geolocation","getCurrentPosition","_position$coords","coords","error","alert","initMap","setTimeout","onMounted","Promise","resolve","reject","window","script","document","createElement","src","async","onload","onerror","head","appendChild","Fancybox","bind","index","splice","visible","data","links","next_page_url","loading","selectedFiles","mediaSelect","mediaIndexInSelectedFiles","getClickItemIndexInSelectedFiles","multiple","push","mediaId","findIndex","obj","params","reactive","search","mimeType","getMediaData","uri","fetch","headers","then","response","json","replace","path","show","qs","hide","newFilesAdded","watch","debounce","dialogVisible","dropRef","makeDropzone","uploadDropzone","Dropzone","url","parallelUploads","uploadMultiple","maxFilesize","maxFiles","paramName","csrf_token","addRemoveLinks","accept","file","done","options","acceptedFiles","on","from","uploadDone","router","get"],"sourceRoot":""}