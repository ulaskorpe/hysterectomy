"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2955],{3742:(e,t,l)=>{l.d(t,{A:()=>N});var r=l(1842),n=l(8221),o=l.n(n),a=l(5373),c=l.n(a),i=l(2995),u=l(7304),s=l(4842),d=l(7212),f=l(2135),p=l(9193),m=l(1959),v=l(8540),b={key:0,class:"card-title me-auto"},y={class:"card-toolbar ms-auto"},h=["href"],k={class:"row g-4"},V={class:"form-label"},g={key:3,class:"p-inputgroup"};const N={__name:"Filter",props:{uri:String,filters:{type:Object,default:null},hasSearch:{type:Boolean,default:!0},hasExport:{type:Boolean,default:!1},extraParams:{type:String,default:null}},setup:function(e){var t=e,l=(0,r.ref)(!1),n=(0,r.ref)(!1),a=(0,r.ref)((0,i.N5)().props.queryParams),N=(0,r.ref)(a.value.hasOwnProperty("filter")),w=(0,r.ref)({filter:t.filters,search:a.value.search,sort:a.value.sort||null}),x={filter:a.value.filter,search:"",language:(0,i.N5)().props.current_language,sort:a.value.sort||null},B=function(){x.filter={},x.search=w.value.search,Object.keys(w.value.filter).forEach((function(e){""!=w.value.filter[e].value&&(x.filter[e]=w.value.filter[e].value)})),Object.keys(x).forEach((function(e){""!=x[e]&&null!=x[e]&&void 0!==x[e]||delete x[e]}));var e=t.extraParams?"?export=true&"+t.extraParams+"&":"?export=true&";return t.uri+e+c().stringify(x)},E=(0,r.ref)(B()),C=function(){n.value=!0,Object.keys(x).forEach((function(e){""!=x[e]&&null!=x[e]&&void 0!==x[e]||delete x[e]}));var e=t.extraParams?"?"+t.extraParams+"&":"?";i.QB.visit(t.uri+e+c().stringify(x),{method:"get",preserveState:function(e){return!!e.props.queryParams.hasOwnProperty("filter")},onSuccess:function(e){var l;N.value=e.props.queryParams.hasOwnProperty("filter"),w.value.filter=t.filters,l=B(),E.value=l},onFinish:function(e){n.value=!1,document.querySelector("body").classList.remove("p-overflow-hidden"),setTimeout((function(){var e=document.querySelector(".p-blockui");e&&e.remove()}),500)}})},O=function(){x.filter={},x.search=w.value.search,Object.keys(w.value.filter).forEach((function(e){""!=w.value.filter[e].value&&(x.filter[e]=w.value.filter[e].value)})),C()},S=function(){x.filter={},x.search=w.value.search,C()};return(0,r.watch)((function(){return[w.value.search]}),o()((function(){x.search=w.value.search,C()}),500)),function(o,a){var c=(0,r.resolveDirective)("tooltip");return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[t.hasSearch?((0,r.openBlock)(),(0,r.createElementBlock)("div",b,[(0,r.withDirectives)((0,r.createElementVNode)("input",{type:"text",class:"form-control form-control-sm",placeholder:"Ara...","onUpdate:modelValue":a[0]||(a[0]=function(e){return(0,r.unref)(w).search=e})},null,512),[[r.vModelText,(0,r.unref)(w).search]])])):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",y,[e.hasExport?((0,r.openBlock)(),(0,r.createElementBlock)("a",{key:0,href:E.value,target:"_blank",class:"btn fw-bold btn-sm btn-light-warning d-flex align-items-center me-3"},a[3]||(a[3]=[(0,r.createElementVNode)("i",{class:"bi bi-box-arrow-right fs-4"},null,-1),(0,r.createElementVNode)("span",{class:"ms-1 lh-1"},"Excel",-1)]),8,h)):(0,r.createCommentVNode)("",!0),t.filters?(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:1,type:"button",class:(0,r.normalizeClass)(["btn btn-sm btn-icon",{"btn-primary":!N.value,"btn-light-success":N.value}]),onClick:a[1]||(a[1]=function(e){return l.value=!0})},a[4]||(a[4]=[(0,r.createElementVNode)("i",{class:"bi bi-funnel-fill fs-3"},null,-1)]),2)),[[c,"İçerikleri filtrele",void 0,{top:!0}]]):(0,r.createCommentVNode)("",!0),t.filters&&N.value?(0,r.withDirectives)(((0,r.openBlock)(),(0,r.createElementBlock)("button",{key:2,type:"button",class:"btn btn-sm btn-light-danger btn-icon ms-2",onClick:S},a[5]||(a[5]=[(0,r.createElementVNode)("i",{class:"bi bi-x fs-3"},null,-1)]))),[[c,"Tüm filtreleri kaldır",void 0,{top:!0}]]):(0,r.createCommentVNode)("",!0)]),t.filters?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(d.A),{key:1,visible:l.value,"onUpdate:visible":a[2]||(a[2]=function(e){return l.value=e}),position:"right",class:"w-300px w-lg-500px"},{default:(0,r.withCtx)((function(){return[(0,r.createElementVNode)("div",k,[((0,r.openBlock)(!0),(0,r.createElementBlock)(r.Fragment,null,(0,r.renderList)((0,r.unref)(w).filter,(function(e,t){return(0,r.openBlock)(),(0,r.createElementBlock)("div",{key:t,class:(0,r.normalizeClass)({"col-md-12":e.full_width,"col-md-6":!e.full_width})},[(0,r.createElementVNode)("label",V,(0,r.toDisplayString)(e.label),1),"selectSingle"==e.type?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(v.A),{key:0,modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t},showClear:"",variant:"filled",options:e.options,optionLabel:"label",optionValue:"value",dataKey:"value",placeholder:"Lütfen seçiniz",class:"w-100",onChange:O},null,8,["modelValue","onUpdate:modelValue","options"])):(0,r.createCommentVNode)("",!0),"select"==e.type?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(u.A),{key:1,virtualScrollerOptions:{itemSize:44},variant:"filled",modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t},display:"chip",filter:"",options:e.options,optionLabel:"label",optionValue:"value",dataKey:"value",placeholder:"Lütfen seçiniz",maxSelectedLabels:5,class:"w-100",onChange:O},null,8,["modelValue","onUpdate:modelValue","options"])):(0,r.createCommentVNode)("",!0),"selectGroup"==e.type?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(u.A),{key:2,modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t},display:"chip",filter:"",variant:"filled",options:e.options,optionLabel:"name",optionValue:"id",optionGroupLabel:"label",optionGroupChildren:"value",placeholder:"Lütfen seçiniz",maxSelectedLabels:5,class:"w-100",onChange:O},null,8,["modelValue","onUpdate:modelValue","options"])):(0,r.createCommentVNode)("",!0),"search"==e.type?((0,r.openBlock)(),(0,r.createElementBlock)("div",g,[(0,r.createVNode)((0,r.unref)(s.A),{modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t},variant:"filled",placeholder:e.label},null,8,["modelValue","onUpdate:modelValue","placeholder"]),e.value?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(p.A),{key:0,icon:"bi bi-x",severity:"secondary",onClick:function(l){return function(e,t){e.value="",N.value&&x.filter[t]&&(x.filter[t]="",O())}(e,t)}},null,8,["onClick"])):(0,r.createCommentVNode)("",!0),e.value?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(p.A),{key:1,icon:"bi bi-search",onClick:O})):(0,r.createCommentVNode)("",!0)])):(0,r.createCommentVNode)("",!0),"date"==e.type?((0,r.openBlock)(),(0,r.createBlock)((0,r.unref)(m.A),{key:4,showButtonBar:"",variant:"filled",modelValue:e.value,"onUpdate:modelValue":function(t){return e.value=t},dateFormat:"dd-mm-yy",class:"w-100",onDateSelect:O,onClearClick:O},null,8,["modelValue","onUpdate:modelValue"])):(0,r.createCommentVNode)("",!0)],2)})),128))])]})),_:1},8,["visible"])):(0,r.createCommentVNode)("",!0),(0,r.createVNode)((0,r.unref)(f.A),{blocked:n.value,fullScreen:""},null,8,["blocked"])],64)}}}},2955:(e,t,l)=>{l.r(t),l.d(t,{default:()=>w});var r=l(1842),n=l(2995),o=l(2693),a=l(2835),c=l(3742);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function u(e,t){var l=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),l.push.apply(l,r)}return l}function s(e){for(var t=1;t<arguments.length;t++){var l=null!=arguments[t]?arguments[t]:{};t%2?u(Object(l),!0).forEach((function(t){d(e,t,l[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(l)):u(Object(l)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(l,t))}))}return e}function d(e,t,l){return(t=function(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var r=l.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}var f={id:"kt_app_toolbar",class:"app-toolbar py-3 py-lg-6"},p={id:"kt_app_toolbar_container",class:"app-container container-xxl d-flex flex-stack"},m={class:"page-title d-flex flex-column justify-content-center flex-wrap me-3"},v={class:"page-heading d-flex text-dark fw-bold fs-3 flex-column justify-content-center my-0"},b={class:"d-flex align-items-center gap-2 gap-lg-3"},y={id:"kt_app_content",class:"app-content flex-column-fluid"},h={id:"kt_app_content_container",class:"app-container container-xxl h-100"},k={class:"card h-100"},V={key:0,class:"card-header px-4"},g={class:"card-footer"},N=["disabled"];const w={__name:"ReOrder",props:{contents:Object,content_type:Object,filters:Object},setup:function(e){var t=e,l=(0,n.mN)({order_data:[]}),i=(0,n.N5)().props.current_language,u=(0,r.ref)(t.contents),d=(0,r.ref)(),w=(0,r.ref)("500px"),x=function(e){u.value=e.value},B=function(){l.transform((function(e){return s(s({},e),{},{order_data:u.value.map((function(e){return e.id}))})})).post(route("contents.reorder",{contentType:t.content_type.id,language:i}),{onSuccess:function(){}})};return(0,r.onMounted)((function(){w.value=d.value.offsetHeight+"px"})),function(e,n){var i=(0,r.resolveComponent)("Head"),s=(0,r.resolveComponent)("Link");return(0,r.openBlock)(),(0,r.createElementBlock)(r.Fragment,null,[(0,r.createVNode)(i,{"head-key":"title",title:"İçerikleri Sırala"}),(0,r.createElementVNode)("div",f,[(0,r.createElementVNode)("div",p,[(0,r.createElementVNode)("div",m,[(0,r.createElementVNode)("h1",v,(0,r.toDisplayString)(t.content_type.name)+" listesini sırala ",1)]),(0,r.createElementVNode)("div",b,[(0,r.createVNode)(s,{href:e.route("contents.index",{contentType:t.content_type.id,language:e.$page.props.current_language}),class:"btn fw-bold btn-sm btn-secondary d-flex align-items-center"},{default:(0,r.withCtx)((function(){return n[0]||(n[0]=[(0,r.createElementVNode)("i",{class:"bi bi-arrow-left fs-4"},null,-1),(0,r.createElementVNode)("span",{class:"ms-1 lh-1"},"Geri",-1)])})),_:1},8,["href"])])])]),(0,r.createElementVNode)("div",y,[(0,r.createElementVNode)("div",h,[(0,r.createElementVNode)("div",k,[t.filters?((0,r.openBlock)(),(0,r.createElementBlock)("div",V,[(0,r.createVNode)((0,r.unref)(c.A),{filters:t.filters,uri:e.route("contents.reorder"),"extra-params":"contentType=".concat(t.content_type.id),"has-search":!1},null,8,["filters","uri","extra-params"])])):(0,r.createCommentVNode)("",!0),(0,r.createElementVNode)("div",{class:"card-body p-0",ref_key:"reorderCardBody",ref:d},[(0,r.createVNode)((0,r.unref)(o.A),{value:u.value,onRowReorder:x,stripedRows:"",scrollable:"",scrollHeight:w.value,dataKey:"id",tableStyle:"min-width: 50rem"},{empty:(0,r.withCtx)((function(){return n[1]||(n[1]=[(0,r.createTextVNode)(" Seçilen kriterlere uygun kayıt bulunamadı. ")])})),default:(0,r.withCtx)((function(){return[(0,r.createVNode)((0,r.unref)(a.A),{rowReorder:"",headerStyle:"width: 3rem",reorderableColumn:!1}),(0,r.createVNode)((0,r.unref)(a.A),{field:"name",header:"Başlık"})]})),_:1},8,["value","scrollHeight"])],512),(0,r.createElementVNode)("div",g,[(0,r.createElementVNode)("button",{type:"button",class:(0,r.normalizeClass)(["btn fw-bold btn-success ms-auto",{"opacity-25":(0,r.unref)(l).processing}]),disabled:(0,r.unref)(l).processing,onClick:B},"Kaydet",10,N)])])])])],64)}}}}}]);
//# sourceMappingURL=2955.js.map