"use strict";const appLanguage=document.querySelector("html").getAttribute("lang"),mainNavbar=document.querySelector("#main-navbar"),mainBody=document.querySelector("body"),dynamicOffCanvasDiv=document.getElementById("dynamic-offcanvas"),dynamicOffCanvas=new bootstrap.Offcanvas("#dynamic-offcanvas"),dynamicOffCanvasTitle=document.getElementById("dynamic-offcanvas-title"),dynamicOffCanvasBody=document.getElementById("dynamic-offcanvas-body");let initPopovers,initTooltips,initHoverTabs,checkFormValid,countrySelected,stateSelected,stateSelectedByName,checkboxRequiredCheck,initDatePicker,openModal,openOffcanvas,stepperFormNextPrev,cloudGalleryInit,cloudGalleryRandomizePositions,cloudGalleryChangeActive;const AppInit=()=>{const e=document.querySelectorAll("[data-bg-image]");if("IntersectionObserver"in window){const t=new IntersectionObserver((e=>{e.forEach((e=>{let t=e.target.dataset.bgImage;if(e.isIntersecting){if(""===t||e.target.classList.contains("bg-loaded"))return;return e.target.style.backgroundImage="url("+t+")",e.target.style.opacity=1,void e.target.classList.add("bg-loaded")}}))}),{rootMargin:"0px 0px -75px 0px"});e.forEach((e=>{t.observe(e)}))}else e.forEach((e=>{let t=e.dataset.bgImage;""===t||e.classList.contains("bg-loaded")||(e.style.backgroundImage="url("+t+")",e.classList.add("bg-loaded"))}));(()=>{const e=document.querySelectorAll("[data-bg-color]");Array.from(e).forEach((e=>{let t=bg_elem.dataset.bgColor;""!==t&&(e.style.backgroundColor="#"+t)}))})();document.querySelectorAll("[data-parallax-image]").length>0&&(new universalParallax).init(),openModal=e=>{const t=new bootstrap.Modal(document.getElementById(e));t&&t.show()},openOffcanvas=e=>{const t=new bootstrap.Offcanvas(document.getElementById(e));t&&t.show()},initTooltips=()=>{const e=document.querySelectorAll('[data-bs-toggle="tooltip"]');if(e.length>0){[...e].map((e=>new bootstrap.Tooltip(e)))}},initTooltips(),initPopovers=()=>{const e=document.querySelectorAll('[data-bs-toggle="popover"]');if(e.length>0){[...e].map((e=>new bootstrap.Popover(e)));toastList.forEach((e=>e.show()))}},initPopovers();document.querySelectorAll("[data-fancybox]").length>0&&Fancybox.bind("[data-fancybox]");const t=document.querySelectorAll(".animate__animated"),a=new IntersectionObserver((e=>{e.forEach((e=>{const t=e.target.dataset.animation;if(e.isIntersecting)return e.target.classList.remove("anim-opacity-0"),void e.target.classList.add(t)}))}),{rootMargin:"0px 0px -75px 0px"});t.forEach((e=>{a.observe(e)})),(()=>{const e=document.querySelectorAll(".ea-swiper:not(.manual)");Array.from(e).forEach((e=>{let t=JSON.parse(e.dataset.swiperOptions);const a=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);"auto"==t.slidesPerView&&a&&(t.slidesPerView=1.2,t.breakpoints={768:{slidesPerView:2.5},1200:{slidesPerView:3.5}}),console.log(t);new Swiper(e,t)}))})(),checkFormValid=e=>{e.addEventListener("submit",(t=>{var a=e.querySelector('[name="tc_no"]'),n=e.querySelectorAll(".name-input"),o=!0,i=e.querySelector(".swiper");if(a&&a.hasAttribute("required")&&(/^\d{11}$/.test(a.value)?a.setCustomValidity(""):(a.setCustomValidity("11_hane_zorunlu"),o=!1)),n.length>0&&n.forEach((e=>{e.hasAttribute("required")&&(/^\S+\s+\S+/.test(e.value)?e.setCustomValidity(""):(e.setCustomValidity("En_az_2_kelime"),o=!1))})),e.checkValidity()&&o)e.querySelector("[type=submit]").disabled=!0,setTimeout((()=>{e.querySelector("[type=submit]").disabled=!1}),1e4);else if(e.querySelector("[type=submit]").disabled=!1,t.preventDefault(),t.stopPropagation(),o=!0,i){const e=i.querySelector(".swiper-slide-active").querySelector(".slide-error");i.swiper.updateAutoHeight(100),e&&(e.classList.remove("d-none"),i.swiper.updateAutoHeight(100),setTimeout((()=>{e.classList.add("d-none"),i.swiper.updateAutoHeight(100)}),3e3))}e.classList.add("was-validated"),i&&i.swiper.updateAutoHeight(100)}),!1)},(()=>{const e=document.querySelectorAll(".needs-validation");Array.from(e).forEach((e=>{checkFormValid(e)}))})(),checkboxRequiredCheck=e=>{const t=e.closest(".checkbox-group").querySelectorAll(".form-check-input");if(Array.from(t).filter((e=>!0===e.checked)).length>0){[...t].map((e=>e.required=!1))}else{[...t].map((e=>e.required=!0))}},stepperFormNextPrev=(e,t)=>{const a=document.getElementById(e),n=a.closest("form"),o=a.querySelector(".swiper-slide-active"),i=o.querySelector(".slide-error");if(n&&a&&t)if(i&&(i.classList.add("d-none"),a.swiper.updateAutoHeight(100)),"prev"!=t){if("next"==t){const e=o.querySelectorAll("input, select, textarea");let t=!0;e.forEach((e=>{e.checkValidity()?e.classList.remove("is-invalid"):(e.classList.add("is-invalid"),t=!1)})),t?a.swiper.slideNext():i&&(i.classList.remove("d-none"),a.swiper.updateAutoHeight(100),setTimeout((()=>{i.classList.add("d-none"),a.swiper.updateAutoHeight(100)}),3e3))}}else a.swiper.slidePrev()},initHoverTabs=()=>{const e=document.querySelectorAll('.hover-tab-navs a[data-bs-toggle="tab"]');e.length>0&&e.forEach((e=>{const t=new bootstrap.Tab(e);e.addEventListener("mouseover",(e=>{e.preventDefault(),t.show()})),e.addEventListener("click",(t=>{e.href!==window.location.href&&(window.location.href=e.href)}))}))},initHoverTabs(),cloudGalleryRandomizePositions=e=>{e.querySelectorAll("img").forEach((e=>{if(!e.classList.contains("active")){const t=Math.floor(120*Math.random())+80;e.style.width=t+"px",e.style.top=80*Math.random()+"%",e.style.left=80*Math.random()+"%",e.style.transform="translate(0,0) rotate("+(30*Math.random()-20)+"deg)",e.style.zIndex=Math.floor(t)}}))},cloudGalleryChangeActive=(e,t=!0)=>{let a=e.querySelectorAll("img");const n=e.querySelector("img.active");let o=[...a].indexOf(n);o=t?(o+1)%a.length:(o-1+a.length)%a.length,n.classList.remove("active"),cloudGalleryRandomizePositions(e),a[o].classList.add("active")},cloudGalleryInit=()=>{const e=document.querySelectorAll(".cloud-gallery");e.length>0&&e.forEach((e=>{cloudGalleryRandomizePositions(e);const t=e.querySelector(".arrow.left");e.querySelector(".arrow.right").addEventListener("click",(()=>cloudGalleryChangeActive(e,!0))),t.addEventListener("click",(()=>cloudGalleryChangeActive(e,!1))),e.querySelectorAll("img").forEach((t=>{t.addEventListener("click",(()=>{const a=e.querySelector("img.active");t!==a&&(a.classList.remove("active"),cloudGalleryRandomizePositions(e),t.classList.add("active"))}))}));let a=0,n=0;e.addEventListener("touchstart",(e=>{a=e.touches[0].clientX})),e.addEventListener("touchend",(t=>{n=t.changedTouches[0].clientX;const o=n-a;Math.abs(o)>50&&cloudGalleryChangeActive(e,!(o>0))}))}))},cloudGalleryInit(),countrySelected=e=>{var t='<option value="">Lütfen Seçiniz</option>';const a=document.getElementById("countries-"+e),n=document.getElementById("states-"+e),o=document.getElementById("cities-"+e);o&&(o.innerHTML=t),a&&fetch("/countries/states/"+a.value,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{e.states.forEach((e=>{t+='<option value="'+e.id+'">'+e.name+"</option>"}))})).then((()=>{n.innerHTML=t}))},stateSelected=e=>{var t='<option value="">Lütfen Seçiniz</option>',a=document.getElementById("states-"+e),n=document.getElementById("cities-"+e);a&&n&&fetch("/states/cities/"+a.value,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{e.cities.forEach((e=>{t+='<option value="'+e.id+'">'+e.name+"</option>"}))})).then((()=>{n.innerHTML=t}))},stateSelectedByName=e=>{var t='<option value="">Lütfen Seçiniz</option>',a=document.getElementById("states-"+e),n=document.getElementById("cities-"+e);if(a&&n){var o=a.options[a.selectedIndex].dataset.stateId;fetch("/states/cities/"+o,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{e.cities.forEach((e=>{t+='<option value="'+e.name+'">'+e.name+"</option>"}))})).then((()=>{n.innerHTML=t}))}},(()=>{const e=document.querySelectorAll("[data-filterable]");Array.from(e).forEach((e=>{mixitup(e)}))})(),document.addEventListener("scroll",(e=>{const t=e.target.scrollingElement.scrollTop;mainBody.classList.toggle("sticky",t>70)}),{passive:!0}),document.addEventListener("touchstart",(()=>{}),{passive:!0}),initDatePicker=e=>{var t={previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]};"tr"==appLanguage&&(t={previousMonth:"Önceki Ay",nextMonth:"Sonraki Ay",months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],weekdays:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],weekdaysShort:["Paz","Pzt","Sal","Çar","Per","Cum","Cts"]});new Pikaday({field:e,format:"DD.MM.YYYY",firstDay:1,i18n:t,toString:(e,t)=>`${e.getDate().toString().padStart(2,"0")}.${(e.getMonth()+1).toString().padStart(2,"0")}.${e.getFullYear()}`,parse(e,t){const a=e.split("."),n=parseInt(a[0],10),o=parseInt(a[1],10)-1,i=parseInt(a[2],10);return new Date(i,o,n)}})},(()=>{const e=document.querySelectorAll(".pickaday");Array.from(e).forEach((e=>{initDatePicker(e)}))})();const n=function(e,t,a){this.toRotate=t,this.el=e,this.loopNum=0,this.period=parseInt(a,10)||2e3,this.txt="",this.tick(),this.isDeleting=!1};n.prototype.tick=function(){var e=this.loopNum%this.toRotate.length,t=this.toRotate[e];this.isDeleting?this.txt=t.substring(0,this.txt.length-1):this.txt=t.substring(0,this.txt.length+1),this.el.innerHTML='<span class="wrap">'+this.txt+"</span>";var a=this,n=100-100*Math.random();this.isDeleting&&(n/=2),this.isDeleting||this.txt!==t?this.isDeleting&&""===this.txt&&(this.isDeleting=!1,this.loopNum++,n=500):(n=this.period,this.isDeleting=!0),setTimeout((function(){a.tick()}),n)},window.onload=function(){for(var e=document.getElementsByClassName("typewrite"),t=0;t<e.length;t++){var a=e[t].getAttribute("data-type"),o=e[t].getAttribute("data-period");a&&new n(e[t],JSON.parse(a),o)}}};let openOffcanvasContent,initOffcanvasContentSwipers,getAvailableWorkingHourSlots;document.addEventListener("DOMContentLoaded",AppInit);const ThemeInit=()=>{dynamicOffCanvasDiv&&(dynamicOffCanvasDiv.addEventListener("hidden.bs.offcanvas",(e=>{dynamicOffCanvasTitle.innerText="",dynamicOffCanvasBody.innerHTML='<div class="ps-4"><div class="spinner-border spinner-border-lg" role="status"><span class="visually-hidden">Loading...</span></div></div>'})),dynamicOffCanvasDiv.addEventListener("show.bs.offcanvas",(e=>{Fancybox.bind("[data-fancybox]")}))),initOffcanvasContentSwipers=()=>{if(dynamicOffCanvasDiv){const e=dynamicOffCanvasDiv.querySelectorAll(".ea-swiper");Array.from(e).forEach((e=>{let t=JSON.parse(e.dataset.swiperOptions);new Swiper(e,t)}))}},openOffcanvasContent=(e,t,a)=>{e&&t&&a&&(dynamicOffCanvasTitle.innerText=a,dynamicOffCanvas.show(),fetch(`/fetch/offcanvas-content/${e}/${t}`).then((function(e){return e.json()})).then((e=>{setTimeout((()=>{dynamicOffCanvasBody.innerHTML=e.html}),1e3)})).catch((e=>{dynamicOffCanvas.hide(),console.error(e)})))},getAvailableWorkingHourSlots=(e,t)=>{const a=document.getElementById(t);a.querySelector(".error").classList.add("d-none"),a.querySelector(".slots").innerHTML="",fetch(`/fetch/working-hours/get-available-slots?date=${e}`).then((function(e){return e.json()})).then((e=>{0==e.slots.length?a.querySelector(".error").classList.remove("d-none"):e.slots.forEach(((e,n)=>{let o=document.createElement("div"),i=document.createElement("input");i.id=t+n,i.name="appointment_time",i.type="radio",i.classList.add("btn-check"),i.autocomplete="off",i.value=e.time,i.required=!0,e.available||(i.disabled=!0),o.appendChild(i);let s=document.createElement("label");s.classList.add("btn"),s.classList.add("rounded-pill"),s.classList.add("font-body"),s.setAttribute("for",t+n),s.innerText=e.time,e.available||s.classList.add("opacity-25"),o.appendChild(s),a.querySelector(".slots").appendChild(o)}))})).catch((e=>{console.error(e)}))}};document.addEventListener("DOMContentLoaded",ThemeInit);
